"use strict";(self["webpackChunkfairr_web_client"]=self["webpackChunkfairr_web_client"]||[]).push([[664],{5675:function(e,t,n){n.d(t,{z:function(){return s}});var a=n(5234),r=n(159);const s=(0,a.nY)("productsStore",{state:()=>({productOffers:null,loading:!1}),getters:{getById:e=>t=>(e.productOffers||[]).find((e=>e.id===t))},actions:{async fetchProductOffers(){if(!this.productOffers&&!this.loading)try{this.loading=!0;const e=await r.A.get("/product-offers");this.productOffers=l(e.data)}catch(e){console.error("Failed to load shops",e)}finally{this.loading=!1}},async fetchShopProducts(e){try{this.loading=!0;const t=await r.A.get(`/product-offers?store_id=${e}`);return l(t.data)}catch(t){console.error("Failed to load shop products",t)}finally{this.loading=!1}}}});function l(e){return e.map((e=>({id:e.productOfferId,image:e.imageUrl,price:e.price,title:e.productName,description:e.productOfferDescription,productId:e.productId,store:{id:e.storeId,name:e.storeName},vendor:{id:e.vendorId,name:e.vendorName},unit:{name:e.unitName,description:e.unitDescription}})))}},1782:function(e,t,n){n.d(t,{E:function(){return s}});var a=n(5234),r=n(159);const s=(0,a.nY)("shopsStore",{state:()=>({shops:null,loading:!1,fetchedAll:!1}),getters:{getById:e=>t=>(e.shops||[]).find((e=>e.id==t))},actions:{async fetchShops(e=!1){if(!this.fetchedAll||e)try{this.loading=!0;const e=await r.A.get("/stores");this.shops=e.data.map(l),this.fetchedAll=!0}catch(t){console.error("Failed to load shops",t)}finally{this.loading=!1}},async fetchSingleShop(e){const t=this.getById(e);if(t)return!1;try{this.loading=!0;const t=await r.A.get(`/stores/${e}`),n=l(t.data);return this.shops=this.shops?[...this.shops,n]:[n],n}catch(n){console.error("Failed to load shop",n)}finally{this.loading=!1}}}});function l(e){return{id:e.id,name:e.name,description:e.description&&"-"!==e.description?e.description:"No description",image:e.imageUrl,vendor:{id:e.vendorId,name:e.vendorName,email:e.vendorEmail,phone:e.vendorPhoneNumber},address:{line1:e.storeAddress.addressLine1,line2:e.storeAddress.addressLine2,city:e.storeAddress.city,postalCode:e.storeAddress.postalCode,country:e.storeAddress.country,location:{latitude:e.storeAddress.location?.latitude,longitude:e.storeAddress.location?.longitude}}}}},6369:function(e,t,n){n.d(t,{A:function(){return p}});var a=n(6768),r=n(5130),s=n(4232),l=n(2807);function o(e,t,n,o,i,d){return(0,a.uX)(),(0,a.Wv)(l.D,{color:"primary",variant:n.variant,disabled:o.isInBasket,onClick:(0,r.D$)(o.addToBasket,["stop"])},{default:(0,a.k6)((()=>[(0,a.eW)((0,s.v_)(o.isInBasket?e.$t("products.added"):e.$t("products.addToBasket")),1)])),_:1},8,["variant","disabled","onClick"])}var i=n(5360),d={name:"AddToBasketButton",props:{product:{type:Object,required:!0},variant:{type:String,default:"text"}},setup(e){const t=(0,a.EW)((()=>(0,i.e)().basket.some((({id:t})=>t===e.product.id)))),n=()=>{t.value||(0,i.e)().addToBasket(e.product)};return{addToBasket:n,isInBasket:t}}},c=n(1241);const u=(0,c.A)(d,[["render",o]]);var p=u},9661:function(e,t,n){n.d(t,{A:function(){return F}});var a=n(6768),r=n(4232),s=n(4593),l=n(1606),o=n(5832),i=n(697),d=n(3745),c=n(5523),u=n(7511),p=n(6756),f=n(5526),v=(n(5792),n(2586));const y=(0,v.G)("v-spacer","div","VSpacer");var g=n(5126);const b={class:"truncate-text-2 mb-1"},m={class:"opacity-30"};function h(e,t,n,v,h,k){const S=(0,a.g2)("add-to-basket-button");return(0,a.uX)(),(0,a.Wv)(s.J,{class:"content-card"},{default:(0,a.k6)((()=>[(0,a.bF)(p.L,{"no-gutters":""},{default:(0,a.k6)((()=>[(0,a.bF)(f.B,{cols:"7"},{default:(0,a.k6)((()=>[(0,a.bF)(l.r,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,r.v_)(n.product.title),1)])),_:1}),n.hideStoreInfo?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(o.Z,{key:0},{default:(0,a.k6)((()=>[(0,a.eW)((0,r.v_)(n.product.store.name),1)])),_:1})),(0,a.bF)(i.O,{class:"pt-1"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",b,(0,r.v_)(n.product.description),1)])),_:1})])),_:1}),(0,a.bF)(f.B,{cols:"5",class:"pa-3"},{default:(0,a.k6)((()=>[(0,a.bF)(g.y,{src:n.product.image,"aspect-ratio":"1.0",class:"elevation-1",cover:"",rounded:""},null,8,["src"])])),_:1})])),_:1}),(0,a.bF)(u.G),(0,a.bF)(d.S,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,[(0,a.bF)(c.x,{color:"green","text-color":"white",label:""},{default:(0,a.k6)((()=>[(0,a.eW)(" $"+(0,r.v_)(n.product.price),1)])),_:1}),(0,a.Lk)("span",m," / "+(0,r.v_)(n.product.unit.name),1)]),(0,a.bF)(y),(0,a.bF)(S,{product:n.product},null,8,["product"])])),_:1})])),_:1})}var k=n(6369),S={name:"ProductCard",props:{product:{type:Object,required:!0},hideStoreInfo:Boolean},components:{AddToBasketButton:k.A}},C=n(1241);const A=(0,C.A)(S,[["render",h]]);var F=A},4593:function(e,t,n){n.d(t,{J:function(){return O}});var a=n(6768),r=n(3745),s=n(5832),l=n(1606),o=n(3416),i=n(7852),d=n(9669),c=n(9262),u=n(2191),p=n(4581),f=n(4587),v=n(1247),y=n(4600);const g=(0,f.j)({appendAvatar:String,appendIcon:p.TX,prependAvatar:String,prependIcon:p.TX,subtitle:[String,Number],title:[String,Number],...(0,c.u)(),...(0,u.r)()},"VCardItem"),b=(0,v.RW)()({name:"VCardItem",props:g(),setup(e,t){let{slots:n}=t;return(0,y.C)((()=>{const t=!(!e.prependAvatar&&!e.prependIcon),r=!(!t&&!n.prepend),c=!(!e.appendAvatar&&!e.appendIcon),u=!(!c&&!n.append),p=!(null==e.title&&!n.title),f=!(null==e.subtitle&&!n.subtitle);return(0,a.bF)("div",{class:["v-card-item",e.class],style:e.style},[r&&(0,a.bF)("div",{key:"prepend",class:"v-card-item__prepend"},[n.prepend?(0,a.bF)(i.K,{key:"prepend-defaults",disabled:!t,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon}}},n.prepend):(0,a.bF)(a.FK,null,[e.prependAvatar&&(0,a.bF)(o.y,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&(0,a.bF)(d.w,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])]),(0,a.bF)("div",{class:"v-card-item__content"},[p&&(0,a.bF)(l.r,{key:"title"},{default:()=>[n.title?.()??e.title]}),f&&(0,a.bF)(s.Z,{key:"subtitle"},{default:()=>[n.subtitle?.()??e.subtitle]}),n.default?.()]),u&&(0,a.bF)("div",{key:"append",class:"v-card-item__append"},[n.append?(0,a.bF)(i.K,{key:"append-defaults",disabled:!c,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon}}},n.append):(0,a.bF)(a.FK,null,[e.appendIcon&&(0,a.bF)(d.w,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&(0,a.bF)(o.y,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)])])])})),{}}});var m=n(697),h=n(5126),k=n(9923),S=n(2542),C=n(7018),A=n(773),F=n(9788),I=n(8184),_=n(3240),B=n(6314),j=n(4663),N=n(7664),w=n(2428),W=n(759);const V=(0,f.j)({appendAvatar:String,appendIcon:p.TX,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:p.TX,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number],text:[String,Number],title:[String,Number],...(0,k.r)(),...(0,c.u)(),...(0,u.r)(),...(0,S.X)(),...(0,C.s)(),...(0,A.gi)(),...(0,F.M)(),...(0,I.S)(),...(0,_.S)(),...(0,B.WC)(),...(0,j.X)(),...(0,N.yx)(),...(0,w.gI)({variant:"elevated"})},"VCard"),O=(0,v.RW)()({name:"VCard",directives:{Ripple:W.n},props:V(),setup(e,t){let{attrs:n,slots:s}=t;const{themeClasses:l}=(0,N.NX)(e),{borderClasses:o}=(0,k.M)(e),{colorClasses:d,colorStyles:c,variantClasses:p}=(0,w.rn)(e),{densityClasses:f}=(0,u.Q)(e),{dimensionStyles:v}=(0,S.S)(e),{elevationClasses:g}=(0,C.j)(e),{loaderClasses:j}=(0,A.pn)(e),{locationStyles:W}=(0,F.z)(e),{positionClasses:V}=(0,I.J)(e),{roundedClasses:O}=(0,_.v)(e),x=(0,B.iE)(e,n),$=(0,a.EW)((()=>!1!==e.link&&x.isLink.value)),X=(0,a.EW)((()=>!e.disabled&&!1!==e.link&&(e.link||x.isClickable.value)));return(0,y.C)((()=>{const t=$.value?"a":e.tag,n=!(!s.title&&null==e.title),u=!(!s.subtitle&&null==e.subtitle),y=n||u,k=!!(s.append||e.appendAvatar||e.appendIcon),S=!!(s.prepend||e.prependAvatar||e.prependIcon),C=!(!s.image&&!e.image),F=y||S||k,I=!(!s.text&&null==e.text);return(0,a.bo)((0,a.bF)(t,{class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":X.value},l.value,o.value,d.value,f.value,g.value,j.value,V.value,O.value,p.value,e.class],style:[c.value,v.value,W.value,e.style],href:x.href.value,onClick:X.value&&x.navigate,tabindex:e.disabled?-1:void 0},{default:()=>[C&&(0,a.bF)("div",{key:"image",class:"v-card__image"},[s.image?(0,a.bF)(i.K,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},s.image):(0,a.bF)(h.y,{key:"image-img",cover:!0,src:e.image},null)]),(0,a.bF)(A.E2,{name:"v-card",active:!!e.loading,color:"boolean"===typeof e.loading?void 0:e.loading},{default:s.loader}),F&&(0,a.bF)(b,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:s.item,prepend:s.prepend,title:s.title,subtitle:s.subtitle,append:s.append}),I&&(0,a.bF)(m.O,{key:"text"},{default:()=>[s.text?.()??e.text]}),s.default?.(),s.actions&&(0,a.bF)(r.S,null,{default:s.actions}),(0,w.wN)(X.value,"v-card")]}),[[(0,a.gN)("ripple"),X.value&&e.ripple]])})),{}}})},3745:function(e,t,n){n.d(t,{S:function(){return i}});var a=n(6768),r=n(9262),s=n(2858),l=n(1247),o=n(4600);const i=(0,l.RW)()({name:"VCardActions",props:(0,r.u)(),setup(e,t){let{slots:n}=t;return(0,s.Uh)({VBtn:{slim:!0,variant:"text"}}),(0,o.C)((()=>(0,a.bF)("div",{class:["v-card-actions",e.class],style:e.style},[n.default?.()]))),{}}})},5832:function(e,t,n){n.d(t,{Z:function(){return c}});var a=n(6768),r=n(9262),s=n(4663),l=n(4587),o=n(1247),i=n(4600);const d=(0,l.j)({opacity:[Number,String],...(0,r.u)(),...(0,s.X)()},"VCardSubtitle"),c=(0,o.RW)()({name:"VCardSubtitle",props:d(),setup(e,t){let{slots:n}=t;return(0,i.C)((()=>(0,a.bF)(e.tag,{class:["v-card-subtitle",e.class],style:[{"--v-card-subtitle-opacity":e.opacity},e.style]},n))),{}}})},697:function(e,t,n){n.d(t,{O:function(){return c}});var a=n(6768),r=n(9262),s=n(4663),l=n(4587),o=n(1247),i=n(4600);const d=(0,l.j)({opacity:[Number,String],...(0,r.u)(),...(0,s.X)()},"VCardText"),c=(0,o.RW)()({name:"VCardText",props:d(),setup(e,t){let{slots:n}=t;return(0,i.C)((()=>(0,a.bF)(e.tag,{class:["v-card-text",e.class],style:[{"--v-card-text-opacity":e.opacity},e.style]},n))),{}}})},1606:function(e,t,n){n.d(t,{r:function(){return r}});var a=n(2586);const r=(0,a.G)("v-card-title")},5526:function(e,t,n){n.d(t,{B:function(){return b}});n(4114),n(5792);var a=n(9262),r=n(8353),s=n(4663),l=n(4232),o=n(6768),i=n(4587),d=n(1247);const c=(()=>r.fi.reduce(((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e)),{}))(),u=(()=>r.fi.reduce(((e,t)=>{const n="offset"+(0,l.ZH)(t);return e[n]={type:[String,Number],default:null},e}),{}))(),p=(()=>r.fi.reduce(((e,t)=>{const n="order"+(0,l.ZH)(t);return e[n]={type:[String,Number],default:null},e}),{}))(),f={col:Object.keys(c),offset:Object.keys(u),order:Object.keys(p)};function v(e,t,n){let a=e;if(null!=n&&!1!==n){if(t){const n=t.replace(e,"");a+=`-${n}`}return"col"===e&&(a="v-"+a),"col"!==e||""!==n&&!0!==n?(a+=`-${n}`,a.toLowerCase()):a.toLowerCase()}}const y=["auto","start","end","center","baseline","stretch"],g=(0,i.j)({cols:{type:[Boolean,String,Number],default:!1},...c,offset:{type:[String,Number],default:null},...u,order:{type:[String,Number],default:null},...p,alignSelf:{type:String,default:null,validator:e=>y.includes(e)},...(0,a.u)(),...(0,s.X)()},"VCol"),b=(0,d.RW)()({name:"VCol",props:g(),setup(e,t){let{slots:n}=t;const a=(0,o.EW)((()=>{const t=[];let n;for(n in f)f[n].forEach((a=>{const r=e[a],s=v(n,a,r);s&&t.push(s)}));const a=t.some((e=>e.startsWith("v-col-")));return t.push({"v-col":!a||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),t}));return()=>(0,o.h)(e.tag,{class:[a.value,e.class],style:e.style},n.default?.())}})},6756:function(e,t,n){n.d(t,{L:function(){return _}});n(4114),n(5792);var a=n(9262),r=n(8353),s=n(4663),l=n(4232),o=n(6768),i=n(4587),d=n(1247);const c=["start","end","center"],u=["space-between","space-around","space-evenly"];function p(e,t){return r.fi.reduce(((n,a)=>{const r=e+(0,l.ZH)(a);return n[r]=t(),n}),{})}const f=[...c,"baseline","stretch"],v=e=>f.includes(e),y=p("align",(()=>({type:String,default:null,validator:v}))),g=[...c,...u],b=e=>g.includes(e),m=p("justify",(()=>({type:String,default:null,validator:b}))),h=[...c,...u,"stretch"],k=e=>h.includes(e),S=p("alignContent",(()=>({type:String,default:null,validator:k}))),C={align:Object.keys(y),justify:Object.keys(m),alignContent:Object.keys(S)},A={align:"align",justify:"justify",alignContent:"align-content"};function F(e,t,n){let a=A[e];if(null!=n){if(t){const n=t.replace(e,"");a+=`-${n}`}return a+=`-${n}`,a.toLowerCase()}}const I=(0,i.j)({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:v},...y,justify:{type:String,default:null,validator:b},...m,alignContent:{type:String,default:null,validator:k},...S,...(0,a.u)(),...(0,s.X)()},"VRow"),_=(0,d.RW)()({name:"VRow",props:I(),setup(e,t){let{slots:n}=t;const a=(0,o.EW)((()=>{const t=[];let n;for(n in C)C[n].forEach((a=>{const r=e[a],s=F(n,a,r);s&&t.push(s)}));return t.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),t}));return()=>(0,o.h)(e.tag,{class:["v-row",a.value,e.class],style:e.style},n.default?.())}})}}]);
//# sourceMappingURL=664.c709cde1.js.map