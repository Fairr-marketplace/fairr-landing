"use strict";(self["webpackChunkfairr_web_client"]=self["webpackChunkfairr_web_client"]||[]).push([[527],{5527:function(e,t,r){r.r(t),r.d(t,{default:function(){return Bo}});var o=r(6768);const n={class:"home-view"};function a(e,t,r,a,s,i){const l=(0,o.g2)("list-view"),u=(0,o.g2)("map-view");return(0,o.uX)(),(0,o.CE)("div",n,[a.isViewVisible("list")?((0,o.uX)(),(0,o.Wv)(l,{key:0})):(0,o.Q3)("",!0),a.isViewVisible("map")?((0,o.uX)(),(0,o.Wv)(u,{key:1})):(0,o.Q3)("",!0)])}var s=r(6258),i=r(8353),l=r(3813);const u={class:"list-view"};function c(e,t,r,n,a,s){const i=(0,o.g2)("search-field"),c=(0,o.g2)("sidebar-tabs");return(0,o.uX)(),(0,o.CE)("div",u,[(0,o.bF)(l.I,null,{default:(0,o.k6)((()=>[(0,o.bF)(i,{class:"mb-5"}),(0,o.bF)(c)])),_:1})])}var d=r(4750);function p(e,t,r,n,a,s){return(0,o.uX)(),(0,o.Wv)(d.W,{modelValue:a.searchQuery,"onUpdate:modelValue":t[0]||(t[0]=e=>a.searchQuery=e),label:"Search","prepend-inner-icon":"mdi-magnify","append-inner-icon":"mdi-close","onClick:appendInner":s.clearSearch,"hide-details":"",solo:""},null,8,["modelValue","onClick:appendInner"])}var h={name:"SearchField",data(){return{searchQuery:"",debouncedQuery:"",debounceTimer:null}},watch:{searchQuery(e){clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout((()=>{this.debouncedQuery=e,this.performSearch()}),250)}},methods:{clearSearch(){this.searchQuery="",this.debouncedQuery=""},performSearch(){console.log("Searching for:",this.debouncedQuery)}}},v=r(1241);const f=(0,v.A)(h,[["render",p]]);var m=f,g=r(4232),y=r(2807),b=r(2886),w=r(1950),k=r(144);const E=Symbol.for("vuetify:v-tabs");var _=r(4587),x=r(9094),C=r(1247),A=r(2419),I=r(1884),S=r(4600);const M=(0,_.j)({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...(0,x.cJ)((0,y.x)({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),O=(0,C.RW)()({name:"VTab",props:M(),setup(e,t){let{slots:r,attrs:n}=t;const{textColorClasses:a,textColorStyles:s}=(0,b.aH)(e,"sliderColor"),i=(0,k.KR)(),l=(0,k.KR)(),u=(0,o.EW)((()=>"horizontal"===e.direction)),c=(0,o.EW)((()=>i.value?.group?.isSelected.value??!1));function d(e){let{value:t}=e;if(t){const e=i.value?.$el.parentElement?.querySelector(".v-tab--selected .v-tab__slider"),t=l.value;if(!e||!t)return;const r=getComputedStyle(e).color,o=e.getBoundingClientRect(),n=t.getBoundingClientRect(),a=u.value?"x":"y",s=u.value?"X":"Y",c=u.value?"right":"bottom",d=u.value?"width":"height",p=o[a],h=n[a],v=p>h?o[c]-n[c]:o[a]-n[a],f=Math.sign(v)>0?u.value?"right":"bottom":Math.sign(v)<0?u.value?"left":"top":"center",m=Math.abs(v)+(Math.sign(v)<0?o[d]:n[d]),g=m/Math.max(o[d],n[d])||0,y=o[d]/n[d]||0,b=1.5;(0,A.i)(t,{backgroundColor:[r,"currentcolor"],transform:[`translate${s}(${v}px) scale${s}(${y})`,`translate${s}(${v/b}px) scale${s}(${(g-1)/b+1})`,"none"],transformOrigin:Array(3).fill(f)},{duration:225,easing:I.B2})}}return(0,S.C)((()=>{const t=y.D.filterProps(e);return(0,o.bF)(y.D,(0,o.v6)({symbol:E,ref:i,class:["v-tab",e.class],style:e.style,tabindex:c.value?0:-1,role:"tab","aria-selected":String(c.value),active:!1},t,n,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":d}),{...r,default:()=>(0,o.bF)(o.FK,null,[r.default?.()??e.text,!e.hideSlider&&(0,o.bF)("div",{ref:l,class:["v-tab__slider",a.value],style:s.value},null)])})})),(0,w.O)({},i)}});r(4114);var R=r(9262),T=r(4690),F=r(5296),P=r(4663),W=r(7664);const L=e=>{const{touchstartX:t,touchendX:r,touchstartY:o,touchendY:n}=e,a=.5,s=16;e.offsetX=r-t,e.offsetY=n-o,Math.abs(e.offsetY)<a*Math.abs(e.offsetX)&&(e.left&&r<t-s&&e.left(e),e.right&&r>t+s&&e.right(e)),Math.abs(e.offsetX)<a*Math.abs(e.offsetY)&&(e.up&&n<o-s&&e.up(e),e.down&&n>o+s&&e.down(e))};function B(e,t){const r=e.changedTouches[0];t.touchstartX=r.clientX,t.touchstartY=r.clientY,t.start?.({originalEvent:e,...t})}function V(e,t){const r=e.changedTouches[0];t.touchendX=r.clientX,t.touchendY=r.clientY,t.end?.({originalEvent:e,...t}),L(t)}function D(e,t){const r=e.changedTouches[0];t.touchmoveX=r.clientX,t.touchmoveY=r.clientY,t.move?.({originalEvent:e,...t})}function j(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:e=>B(e,t),touchend:e=>V(e,t),touchmove:e=>D(e,t)}}function N(e,t){const r=t.value,o=r?.parent?e.parentElement:e,n=r?.options??{passive:!0},a=t.instance?.$.uid;if(!o||!a)return;const s=j(t.value);o._touchHandlers=o._touchHandlers??Object.create(null),o._touchHandlers[a]=s,(0,x.HP)(s).forEach((e=>{o.addEventListener(e,s[e],n)}))}function U(e,t){const r=t.value?.parent?e.parentElement:e,o=t.instance?.$.uid;if(!r?._touchHandlers||!o)return;const n=r._touchHandlers[o];(0,x.HP)(n).forEach((e=>{r.removeEventListener(e,n[e])})),delete r._touchHandlers[o]}const X={mounted:N,unmounted:U};var K=X;const q=Symbol.for("vuetify:v-window"),$=Symbol.for("vuetify:v-window-group"),z=(0,_.j)({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>"boolean"===typeof e||"hover"===e},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...(0,R.u)(),...(0,P.X)(),...(0,W.yx)()},"VWindow"),G=(0,C.RW)()({name:"VWindow",directives:{Touch:X},props:z(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const{themeClasses:n}=(0,W.NX)(e),{isRtl:a}=(0,F.IA)(),{t:s}=(0,F.Ym)(),i=(0,T.dB)(e,$),l=(0,k.KR)(),u=(0,o.EW)((()=>a.value?!e.reverse:e.reverse)),c=(0,k.IJ)(!1),d=(0,o.EW)((()=>{const t="vertical"===e.direction?"y":"x",r=u.value?!c.value:c.value,o=r?"-reverse":"";return`v-window-${t}${o}-transition`})),p=(0,k.IJ)(0),h=(0,k.KR)(void 0),v=(0,o.EW)((()=>i.items.value.findIndex((e=>i.selected.value.includes(e.id)))));(0,o.wB)(v,((e,t)=>{const r=i.items.value.length,o=r-1;c.value=r<=2?e<t:e===o&&0===t||(0!==e||t!==o)&&e<t})),(0,o.Gt)(q,{transition:d,isReversed:c,transitionCount:p,transitionHeight:h,rootRef:l});const f=(0,o.EW)((()=>e.continuous||0!==v.value)),m=(0,o.EW)((()=>e.continuous||v.value!==i.items.value.length-1));function g(){f.value&&i.prev()}function b(){m.value&&i.next()}const w=(0,o.EW)((()=>{const t=[],n={icon:a.value?e.nextIcon:e.prevIcon,class:"v-window__"+(u.value?"right":"left"),onClick:i.prev,"aria-label":s("$vuetify.carousel.prev")};t.push(f.value?r.prev?r.prev({props:n}):(0,o.bF)(y.D,n,null):(0,o.bF)("div",null,null));const l={icon:a.value?e.prevIcon:e.nextIcon,class:"v-window__"+(u.value?"left":"right"),onClick:i.next,"aria-label":s("$vuetify.carousel.next")};return t.push(m.value?r.next?r.next({props:l}):(0,o.bF)(y.D,l,null):(0,o.bF)("div",null,null)),t})),E=(0,o.EW)((()=>{if(!1===e.touch)return e.touch;const t={left:()=>{u.value?g():b()},right:()=>{u.value?b():g()},start:e=>{let{originalEvent:t}=e;t.stopPropagation()}};return{...t,...!0===e.touch?{}:e.touch}}));return(0,S.C)((()=>(0,o.bo)((0,o.bF)(e.tag,{ref:l,class:["v-window",{"v-window--show-arrows-on-hover":"hover"===e.showArrows},n.value,e.class],style:e.style},{default:()=>[(0,o.bF)("div",{class:"v-window__container",style:{height:h.value}},[r.default?.({group:i}),!1!==e.showArrows&&(0,o.bF)("div",{class:"v-window__controls"},[w.value])]),r.additional?.({group:i})]}),[[(0,o.gN)("touch"),E.value]]))),{group:i}}});var Z=r(2067);const Q=(0,_.j)({...(0,x.cJ)(z(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),H=(0,C.RW)()({name:"VTabsWindow",props:Q(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const n=(0,o.WQ)(E,null),a=(0,Z.q)(e,"modelValue"),s=(0,o.EW)({get(){return null==a.value&&n?n.items.value.find((e=>n.selected.value.includes(e.id)))?.value:a.value},set(e){a.value=e}});return(0,S.C)((()=>{const t=G.filterProps(e);return(0,o.bF)(G,(0,o.v6)({_as:"VTabsWindow"},t,{modelValue:s.value,"onUpdate:modelValue":e=>s.value=e,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),r)})),{}}});var Y=r(5130),J=r(8139),ee=r(6747),te=r(4464);const re=(0,_.j)({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...(0,R.u)(),...(0,T.TX)(),...(0,J.f)()},"VWindowItem"),oe=(0,C.RW)()({name:"VWindowItem",directives:{Touch:K},props:re(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:r}=t;const n=(0,o.WQ)(q),a=(0,T.aO)(e,$),{isBooted:s}=(0,ee.K)();if(!n||!a)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const i=(0,k.IJ)(!1),l=(0,o.EW)((()=>s.value&&(n.isReversed.value?!1!==e.reverseTransition:!1!==e.transition)));function u(){i.value&&n&&(i.value=!1,n.transitionCount.value>0&&(n.transitionCount.value-=1,0===n.transitionCount.value&&(n.transitionHeight.value=void 0)))}function c(){!i.value&&n&&(i.value=!0,0===n.transitionCount.value&&(n.transitionHeight.value=(0,x.Dg)(n.rootRef.value?.clientHeight)),n.transitionCount.value+=1)}function d(){u()}function p(e){i.value&&(0,o.dY)((()=>{l.value&&i.value&&n&&(n.transitionHeight.value=(0,x.Dg)(e.clientHeight))}))}const h=(0,o.EW)((()=>{const t=n.isReversed.value?e.reverseTransition:e.transition;return!!l.value&&{name:"string"!==typeof t?n.transition.value:t,onBeforeEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:c,onAfterLeave:u,onLeaveCancelled:d,onEnter:p}})),{hasContent:v}=(0,J._)(e,a.isSelected);return(0,S.C)((()=>(0,o.bF)(te.M,{transition:h.value,disabled:!s.value},{default:()=>[(0,o.bo)((0,o.bF)("div",{class:["v-window-item",a.selectedClass.value,e.class],style:e.style},[v.value&&r.default?.()]),[[Y.aG,a.isSelected.value]])]}))),{groupItem:a}}}),ne=(0,_.j)({...re()},"VTabsWindowItem"),ae=(0,C.RW)()({name:"VTabsWindowItem",props:ne(),setup(e,t){let{slots:r}=t;return(0,S.C)((()=>{const t=oe.filterProps(e);return(0,o.bF)(oe,(0,o.v6)({_as:"VTabsWindowItem"},t,{class:["v-tabs-window-item",e.class],style:e.style}),r)})),{}}});var se=r(4062),ie=r(2858),le=r(2191),ue=r(2876);function ce(e){return e?e.map((e=>(0,x.Gv)(e)?e:{text:e,value:e})):[]}const de=(0,_.j)({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...(0,se.l9)({mandatory:"force",selectedClass:"v-tab-item--selected"}),...(0,le.r)(),...(0,P.X)()},"VTabs"),pe=(0,C.RW)()({name:"VTabs",props:de(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:r,slots:n}=t;const a=(0,Z.q)(e,"modelValue"),s=(0,o.EW)((()=>ce(e.items))),{densityClasses:i}=(0,le.Q)(e),{backgroundColorClasses:l,backgroundColorStyles:u}=(0,b.z6)((0,k.lW)(e,"bgColor")),{scopeId:c}=(0,ue.b)();return(0,ie.Uh)({VTab:{color:(0,k.lW)(e,"color"),direction:(0,k.lW)(e,"direction"),stacked:(0,k.lW)(e,"stacked"),fixed:(0,k.lW)(e,"fixedTabs"),sliderColor:(0,k.lW)(e,"sliderColor"),hideSlider:(0,k.lW)(e,"hideSlider")}}),(0,S.C)((()=>{const t=se.fJ.filterProps(e),d=!!(n.window||e.items.length>0);return(0,o.bF)(o.FK,null,[(0,o.bF)(se.fJ,(0,o.v6)(t,{modelValue:a.value,"onUpdate:modelValue":e=>a.value=e,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},i.value,l.value,e.class],style:[{"--v-tabs-height":(0,x.Dg)(e.height)},u.value,e.style],role:"tablist",symbol:E},c,r),{default:()=>[n.default?.()??s.value.map((e=>n.tab?.({item:e})??(0,o.bF)(O,(0,o.v6)(e,{key:e.text,value:e.value}),{default:n[`tab.${e.value}`]?()=>n[`tab.${e.value}`]?.({item:e}):void 0})))]}),d&&(0,o.bF)(H,(0,o.v6)({modelValue:a.value,"onUpdate:modelValue":e=>a.value=e,key:"tabs-window"},c),{default:()=>[s.value.map((e=>n.item?.({item:e})??(0,o.bF)(ae,{value:e.value},{default:()=>n[`item.${e.value}`]?.({item:e})}))),n.window?.()]})])})),{}}});function he(e,t,r,n,a,s){return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(pe,{modelValue:a.activeTab,"onUpdate:modelValue":t[0]||(t[0]=e=>a.activeTab=e),color:"primary",grow:"",class:"mb-4 elevation-1","bg-color":"inactive"},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.navigationTabs,(e=>((0,o.uX)(),(0,o.Wv)(O,{key:e.value,value:e.value},{default:(0,o.k6)((()=>[(0,o.eW)((0,g.v_)(e.title),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"]),(0,o.bF)(G,{modelValue:a.activeTab,"onUpdate:modelValue":t[1]||(t[1]=e=>a.activeTab=e)},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.navigationTabs,(e=>((0,o.uX)(),(0,o.Wv)(oe,{key:e.value,value:e.value},{default:(0,o.k6)((()=>[((0,o.uX)(),(0,o.Wv)((0,o.$y)(e.value)))])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])],64)}var ve=r(2635),fe=r(5234);const me=(0,fe.nY)("map",{state:()=>({selectedItem:null}),actions:{setSelectedItem(e){this.selectedItem=e}}});var ge=r(9508),ye=r(6756),be=r(5526),we=r(6106);const ke={key:0,class:"d-flex align-center justify-center pa-6"},Ee={key:1};var _e={__name:"ProductsList",props:{vendorId:String,limit:Number},setup(e){const t=(0,ve.z)(),r=me(),n=e,a=({id:e})=>{r.setSelectedItem({id:e,type:"product"})},s=(0,o.EW)((()=>{let e=t.products||[];return n.vendorId&&(e=e.filter((({vendorId:e})=>e===n.vendorId))),n.limit&&(e=e.slice(0,n.limit)),e}));return(0,o.sV)((()=>{t.fetchProducts()})),(r,n)=>(0,k.R1)(t).loading?((0,o.uX)(),(0,o.CE)("div",ke,[(0,o.bF)(we.x,{indeterminate:"",color:"primary"})])):((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[s.value.length?((0,o.uX)(),(0,o.Wv)(ye.L,{key:0},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.value,(t=>((0,o.uX)(),(0,o.Wv)(be.B,{key:t.id,cols:"12"},{default:(0,o.k6)((()=>[(0,o.bF)(ge.A,{product:t,hideVendorInfo:!!e.vendorId,onClick:e=>a(t)},null,8,["product","hideVendorInfo","onClick"])])),_:2},1024)))),128))])),_:1})):((0,o.uX)(),(0,o.CE)("div",Ee,"No products found."))],64))}};const xe=_e;var Ce=xe,Ae=r(5154),Ie=r(9447);const Se=["Fresh Produce Available","New Bakery Items","Local Honey Now Available","Join Our Baking Class","Farm Fresh Dairy","Seasonal Vegetables","Grass-Fed Meat Specials","Organic Snacks Now In Stock"],Me=["We have a fresh batch of organic vegetables ready for purchase.","Our bakery has introduced new pastries, bread, and gluten-free options.","Pick up a jar of our raw honey, perfect for your tea or cooking.","Join us for a weekend baking class and learn how to bake sourdough.","Our dairy products are fresh and come directly from our pasture-raised animals.","Come by and grab some of our seasonal vegetables, freshly picked.","Enjoy our grass-fed beef at a discounted price for a limited time.","Try our new organic snack options, available now at the store."],Oe=()=>{const e=(0,Ie.F)();return{title:(0,Ae.QP)(Se),text:(0,Ae.QP)(Me),date:(0,Ae.m8)(),vendorName:e.name,vendorId:e.id,image:(0,Ae.jP)(),id:Math.floor(1e3*Math.random())}},Re=e=>{const t=[];for(let r=0;r<e;r++)t.push(Oe());return t};var Te=Re;const Fe=async()=>new Promise((e=>{setTimeout((()=>{e({data:Te(12)})}),1e3)})),Pe=(0,fe.nY)("postsStore",{state:()=>({posts:null,loading:!1}),getters:{getById:e=>t=>e.posts.find((e=>e.id===t))},actions:{async fetchPosts(){if(!this.posts)try{this.loading=!0;const e=await Fe();this.posts=e.data}catch(e){console.error("Failed to load posts",e)}finally{this.loading=!1}}}});var We=r(4593),Le=r(1606),Be=r(697),Ve=r(5832),De=r(5126);function je(e,t,r,n,a,s){return(0,o.uX)(),(0,o.Wv)(We.J,{class:"content-card pb-4"},{default:(0,o.k6)((()=>[(0,o.bF)(ye.L,{"no-gutters":""},{default:(0,o.k6)((()=>[(0,o.bF)(be.B,{cols:"4"},{default:(0,o.k6)((()=>[(0,o.bF)(De.y,{src:r.post.image,"aspect-ratio":"1.0",cover:""},null,8,["src"])])),_:1}),(0,o.bF)(be.B,{cols:"8"},{default:(0,o.k6)((()=>[(0,o.bF)(Le.r,null,{default:(0,o.k6)((()=>[(0,o.eW)((0,g.v_)(r.post.title),1)])),_:1}),(0,o.bF)(Be.O,{class:"truncate-text"},{default:(0,o.k6)((()=>[(0,o.eW)((0,g.v_)(r.post.text),1)])),_:1}),(0,o.bF)(Ve.Z,null,{default:(0,o.k6)((()=>[(0,o.eW)((0,g.v_)(r.post.vendorName)+" - "+(0,g.v_)(r.post.date),1)])),_:1})])),_:1})])),_:1})])),_:1})}var Ne={name:"PostCard",props:{post:{type:Object,required:!0}}};const Ue=(0,v.A)(Ne,[["render",je]]);var Xe=Ue;const Ke={key:0,class:"d-flex align-center justify-center pa-6"};var qe={__name:"PostsFeed",setup(e){const t=me(),r=Pe();function n({id:e}){t.setSelectedItem({id:e,type:"post"})}return(0,o.sV)((()=>{r.fetchPosts()})),(e,t)=>(0,k.R1)(r).loading?((0,o.uX)(),(0,o.CE)("div",Ke,[(0,o.bF)(we.x,{indeterminate:"",color:"primary"})])):((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[(0,k.R1)(r).posts?((0,o.uX)(),(0,o.Wv)(ye.L,{key:0},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)((0,k.R1)(r).posts,(e=>((0,o.uX)(),(0,o.Wv)(be.B,{key:e.id,cols:"12"},{default:(0,o.k6)((()=>[(0,o.bF)(Xe,{post:e,onClick:t=>n(e)},null,8,["post","onClick"])])),_:2},1024)))),128))])),_:1})):(0,o.Q3)("",!0)],64))}};const $e=qe;var ze=$e,Ge=r(5396),Ze=r(3745),Qe=r(7511),He=r(9669),Ye=r(3029),Je=r(7861);const et=(0,_.j)({id:String,text:String,...(0,x.cJ)((0,Ye.D)({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),tt=(0,C.RW)()({name:"VTooltip",props:et(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:r}=t;const n=(0,Z.q)(e,"modelValue"),{scopeId:a}=(0,ue.b)(),s=(0,Je.v6)(),i=(0,o.EW)((()=>e.id||`v-tooltip-${s}`)),l=(0,k.KR)(),u=(0,o.EW)((()=>e.location.split(" ").length>1?e.location:e.location+" center")),c=(0,o.EW)((()=>"auto"===e.origin||"overlap"===e.origin||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center")),d=(0,o.EW)((()=>e.transition?e.transition:n.value?"scale-transition":"fade-transition")),p=(0,o.EW)((()=>(0,o.v6)({"aria-describedby":i.value},e.activatorProps)));return(0,S.C)((()=>{const t=Ye.L.filterProps(e);return(0,o.bF)(Ye.L,(0,o.v6)({ref:l,class:["v-tooltip",e.class],style:e.style,id:i.value},t,{modelValue:n.value,"onUpdate:modelValue":e=>n.value=e,transition:d.value,absolute:!0,location:u.value,origin:c.value,persistent:!0,role:"tooltip",activatorProps:p.value,_disableGlobalStack:!0},a),{activator:r.activator,default:function(){for(var t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return r.default?.(...o)??e.text}})})),(0,w.O)({},l)}}),rt={class:"truncate-text"},ot=["href"];function nt(e,t,r,n,a,s){return(0,o.uX)(),(0,o.Wv)(We.J,{class:"content-card"},{default:(0,o.k6)((()=>[(0,o.bF)(tt,{text:"Add to favorite"},{activator:(0,o.k6)((({props:e})=>[(0,o.bF)(y.D,(0,o.v6)(e,{icon:n.isFavorite?"mdi-star":"mdi-star-outline",color:n.isFavorite?"primary":"grey",variant:"text",size:"small",class:"add-to-favorite-button",onClick:(0,Y.D$)(n.addToFavorite,["stop"])}),null,16,["icon","color","onClick"])])),_:1}),(0,o.bF)(ye.L,{"no-gutters":""},{default:(0,o.k6)((()=>[(0,o.bF)(be.B,{cols:"4"},{default:(0,o.k6)((()=>[(0,o.bF)(De.y,{src:r.store.image,"aspect-ratio":"1.0",cover:""},null,8,["src"])])),_:1}),(0,o.bF)(be.B,{cols:"8"},{default:(0,o.k6)((()=>[(0,o.bF)(Le.r,{class:"pr-6"},{default:(0,o.k6)((()=>[(0,o.eW)((0,g.v_)(r.store.name),1)])),_:1}),(0,o.bF)(Ve.Z,null,{default:(0,o.k6)((()=>[(0,o.eW)((0,g.v_)(r.store.address),1)])),_:1}),(0,o.bF)(Be.O,null,{default:(0,o.k6)((()=>[(0,o.Lk)("div",rt,(0,g.v_)(r.store.description),1)])),_:1})])),_:1})])),_:1}),(0,o.bF)(Qe.G),(0,o.bF)(Ze.S,null,{default:(0,o.k6)((()=>[(0,o.Lk)("a",{href:"mailto:"+r.store.email,class:"secondary text-decoration-none"},[(0,o.bF)(He.w,null,{default:(0,o.k6)((()=>[(0,o.eW)("mdi-email")])),_:1}),(0,o.eW)(" "+(0,g.v_)(r.store.email),1)],8,ot)])),_:1})])),_:1})}var at=r(9634);const st=(0,fe.nY)("user",{state:()=>({favoriteVendors:(0,at.g)("user-favoriteVendors")||[]}),getters:{isFavoriteVendor:e=>t=>e.favoriteVendors.includes(t)},actions:{toggleFavoriteVendor(e){this.isFavoriteVendor(e)?this.favoriteVendors=this.favoriteVendors.filter((t=>t!==e)):this.favoriteVendors.push(e),(0,at.G)("user-favoriteVendors",this.favoriteVendors)}}});var it={name:"StoreCard",props:{store:{type:Object,required:!0}},setup(e){const t=st(),r=()=>{t.toggleFavoriteVendor(e.store.id)},n=(0,o.EW)((()=>t.isFavoriteVendor(e.store.id)));return{isFavorite:n,addToFavorite:r}}};const lt=(0,v.A)(it,[["render",nt]]);var ut=lt;const ct={key:0,class:"d-flex align-center justify-center pa-6"},dt={key:1};var pt={__name:"VendorsList",setup(e){const t=me(),r=(0,Ge.a)();function n({id:e}){t.setSelectedItem({id:e,type:"vendor"})}return(0,o.sV)((()=>{r.fetchVendors()})),(e,t)=>(0,k.R1)(r).loading?((0,o.uX)(),(0,o.CE)("div",ct,[(0,o.bF)(we.x,{indeterminate:"",color:"primary"})])):((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[(0,k.R1)(r).vendors?((0,o.uX)(),(0,o.Wv)(ye.L,{key:0},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)((0,k.R1)(r).vendors,(e=>((0,o.uX)(),(0,o.Wv)(be.B,{key:e.id,cols:"12"},{default:(0,o.k6)((()=>[(0,o.bF)(ut,{store:e,onClick:t=>n(e)},null,8,["store","onClick"])])),_:2},1024)))),128))])),_:1})):((0,o.uX)(),(0,o.CE)("div",dt,"No stores found."))],64))}};const ht=pt;var vt=ht,ft={name:"SidebarTabs",components:{VendorsList:vt,ProductsList:Ce,PostsFeed:ze},data(){return{activeTab:"stores",navigationTabs:[{title:"Stores",value:"VendorsList"},{title:"Products",value:"ProductsList"},{title:"Posts",value:"PostsFeed"}]}}};const mt=(0,v.A)(ft,[["render",he]]);var gt=mt,yt={name:"ListView",components:{SearchField:m,SidebarTabs:gt}};const bt=(0,v.A)(yt,[["render",c]]);var wt=bt;const kt={class:"map-container d-flex align-center justify-center"};function Et(e,t,r,n,a,s){const i=(0,o.g2)("AdvancedMarker"),l=(0,o.g2)("GoogleMap"),u=(0,o.g2)("map-details-dialog");return(0,o.uX)(),(0,o.CE)("div",kt,[(0,o.bF)(l,{"api-key":n.apiKey,mapId:"appMap",class:"app-map",center:n.mapCenter,zoom:15},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.storeMarkers,(e=>((0,o.uX)(),(0,o.Wv)(i,{key:e.id,options:e,pinOptions:{background:"blue"},onClick:t=>n.showStoreDetails(e)},null,8,["options","onClick"])))),128))])),_:1},8,["api-key","center"]),(0,o.bF)(u)])}r(6573),r(8100),r(7936),r(9479),r(7642),r(8004),r(3853),r(5876),r(2475),r(5024),r(1698),r(7467),r(4732),r(9577),r(4979),r(1678),r(6984),r(7566),r(8721);(function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".mapdiv[data-v-d05fc6bc]{width:100%;height:100%}.custom-control-wrapper[data-v-d099a3a6]{display:none}.mapdiv .custom-control-wrapper[data-v-d099a3a6]{display:inline-block}.info-window-wrapper[data-v-cbe1707b]{display:none}.mapdiv .info-window-wrapper[data-v-cbe1707b]{display:inline-block}.custom-marker-wrapper[data-v-2d2d343a]{display:none}.mapdiv .custom-marker-wrapper[data-v-2d2d343a]{display:inline-block}")),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();var _t=Object.defineProperty,xt=(e,t,r)=>t in e?_t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ct=(e,t,r)=>(xt(e,"symbol"!=typeof t?t+"":t,r),r);const At=Symbol("map"),It=Symbol("api"),St=Symbol("marker"),Mt=Symbol("markerCluster"),Ot=Symbol("CustomMarker"),Rt=Symbol("mapTilesLoaded"),Tt=["click","dblclick","drag","dragend","dragstart","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"];
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Ft(e,t,r,o){function n(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,a){function s(e){try{l(o.next(e))}catch(t){a(t)}}function i(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){e.done?r(e.value):n(e.value).then(s,i)}l((o=o.apply(e,t||[])).next())}))}var Pt=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var o,n,a;if(Array.isArray(t)){if(o=t.length,o!=r.length)return!1;for(n=o;0!==n--;)if(!e(t[n],r[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(a=Object.keys(t),o=a.length,o!==Object.keys(r).length)return!1;for(n=o;0!==n--;)if(!Object.prototype.hasOwnProperty.call(r,a[n]))return!1;for(n=o;0!==n--;){var s=a[n];if(!e(t[s],r[s]))return!1}return!0}return t!==t&&r!==r};const Wt="__googleMapsScriptId";var Lt;(function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"})(Lt||(Lt={}));class Bt{constructor({apiKey:e,authReferrerPolicy:t,channel:r,client:o,id:n=Wt,language:a,libraries:s=[],mapIds:i,nonce:l,region:u,retries:c=3,url:d="https://maps.googleapis.com/maps/api/js",version:p}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=e,this.authReferrerPolicy=t,this.channel=r,this.client=o,this.id=n||Wt,this.language=a,this.libraries=s,this.mapIds=i,this.nonce=l,this.region=u,this.retries=c,this.url=d,this.version=p,Bt.instance){if(!Pt(this.options,Bt.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(Bt.instance.options)}`);return Bt.instance}Bt.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?Lt.FAILURE:this.done?Lt.SUCCESS:this.loading?Lt.LOADING:Lt.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+="?callback=__googleMapsCallback",this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),this.libraries.length>0&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(e+=`&auth_referrer_policy=${this.authReferrerPolicy}`),e}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise(((e,t)=>{this.loadCallback((r=>{r?t(r.error):e(window.google)}))}))}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,t;if(document.getElementById(this.id))return void this.callback();const r={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(r).forEach((e=>!r[e]&&delete r[e])),null!==(t=null===(e=null==window?void 0:window.google)||void 0===e?void 0:e.maps)&&void 0!==t&&t.importLibrary||(e=>{let t,r,o,n="The Google Maps JavaScript API",a="google",s="importLibrary",i="__ib__",l=document,u=window;u=u[a]||(u[a]={});const c=u.maps||(u.maps={}),d=new Set,p=new URLSearchParams,h=()=>t||(t=new Promise(((s,u)=>Ft(this,void 0,void 0,(function*(){var h;for(o in yield r=l.createElement("script"),r.id=this.id,p.set("libraries",[...d]+""),e)p.set(o.replace(/[A-Z]/g,(e=>"_"+e[0].toLowerCase())),e[o]);p.set("callback",a+".maps."+i),r.src=this.url+"?"+p,c[i]=s,r.onerror=()=>t=u(Error(n+" could not load.")),r.nonce=this.nonce||(null===(h=l.querySelector("script[nonce]"))||void 0===h?void 0:h.nonce)||"",l.head.append(r)})))));c[s]?console.warn(n+" only loads once. Ignoring:",e):c[s]=(e,...t)=>d.add(e)&&h().then((()=>c[s](e,...t)))})(r);const o=this.libraries.map((e=>this.importLibrary(e)));o.length||o.push(this.importLibrary("core")),Promise.all(o).then((()=>this.callback()),(e=>{const t=new ErrorEvent("error",{error:e});this.loadErrorCallback(t)}))}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){const e=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${e} ms.`),setTimeout((()=>{this.deleteScript(),this.setScript()}),e)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach((e=>{e(this.onerrorEvent)})),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version)return console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),void this.callback();this.loading||(this.loading=!0,this.setScript())}}}function Vt(e){return class extends e.OverlayView{constructor(e){super(),Ct(this,"element"),Ct(this,"opts");const{element:t,...r}=e;this.element=t,this.opts=r,this.opts.map&&this.setMap(this.opts.map)}getPosition(){return this.opts.position?this.opts.position instanceof e.LatLng?this.opts.position:new e.LatLng(this.opts.position):null}getVisible(){if(!this.element)return!1;const e=this.element;return"none"!==e.style.display&&"hidden"!==e.style.visibility&&(""===e.style.opacity||Number(e.style.opacity)>.01)}onAdd(){if(!this.element)return;const e=this.getPanes();e&&e.overlayMouseTarget.appendChild(this.element)}draw(){if(!this.element)return;const e=this.getProjection(),t=null==e?void 0:e.fromLatLngToDivPixel(this.getPosition());if(t){this.element.style.position="absolute";const e=this.element.offsetHeight,r=this.element.offsetWidth;let o,n;switch(this.opts.anchorPoint){case"TOP_CENTER":o=t.x-r/2,n=t.y;break;case"BOTTOM_CENTER":o=t.x-r/2,n=t.y-e;break;case"LEFT_CENTER":o=t.x,n=t.y-e/2;break;case"RIGHT_CENTER":o=t.x-r,n=t.y-e/2;break;case"TOP_LEFT":o=t.x,n=t.y;break;case"TOP_RIGHT":o=t.x-r,n=t.y;break;case"BOTTOM_LEFT":o=t.x,n=t.y-e;break;case"BOTTOM_RIGHT":o=t.x-r,n=t.y-e;break;default:o=t.x-r/2,n=t.y-e/2}this.element.style.left=o+"px",this.element.style.top=n+"px",this.element.style.transform=`translateX(${this.opts.offsetX||0}px) translateY(${this.opts.offsetY||0}px)`,this.opts.zIndex&&(this.element.style.zIndex=this.opts.zIndex.toString())}}onRemove(){this.element&&this.element.remove()}setOptions(e){const{element:t,...r}=e;this.element=t,this.opts=r,this.draw()}}}let Dt;const jt=["bounds_changed","center_changed","click","contextmenu","dblclick","drag","dragend","dragstart","heading_changed","idle","isfractionalzoomenabled_changed","mapcapabilities_changed","maptypeid_changed","mousemove","mouseout","mouseover","projection_changed","renderingtype_changed","rightclick","tilesloaded","tilt_changed","zoom_changed"],Nt=(0,o.pM)({props:{apiPromise:{type:Promise},apiKey:{type:String,default:""},version:{type:String,default:"weekly"},libraries:{type:Array,default:()=>["places","marker"]},region:{type:String,required:!1},language:{type:String,required:!1},backgroundColor:{type:String,required:!1},center:{type:Object,default:()=>({lat:0,lng:0})},clickableIcons:{type:Boolean,required:!1,default:void 0},controlSize:{type:Number,required:!1},disableDefaultUi:{type:Boolean,required:!1,default:void 0},disableDoubleClickZoom:{type:Boolean,required:!1,default:void 0},draggable:{type:Boolean,required:!1,default:void 0},draggableCursor:{type:String,required:!1},draggingCursor:{type:String,required:!1},fullscreenControl:{type:Boolean,required:!1,default:void 0},fullscreenControlPosition:{type:String,required:!1},gestureHandling:{type:String,required:!1},heading:{type:Number,required:!1},isFractionalZoomEnabled:{type:Boolean,required:!1,default:void 0},keyboardShortcuts:{type:Boolean,required:!1,default:void 0},mapTypeControl:{type:Boolean,required:!1,default:void 0},mapTypeControlOptions:{type:Object,required:!1},mapTypeId:{type:[Number,String],required:!1},mapId:{type:String,required:!1},maxZoom:{type:Number,required:!1},minZoom:{type:Number,required:!1},noClear:{type:Boolean,required:!1,default:void 0},panControl:{type:Boolean,required:!1,default:void 0},panControlPosition:{type:String,required:!1},restriction:{type:Object,required:!1},rotateControl:{type:Boolean,required:!1,default:void 0},rotateControlPosition:{type:String,required:!1},scaleControl:{type:Boolean,required:!1,default:void 0},scaleControlStyle:{type:Number,required:!1},scrollwheel:{type:Boolean,required:!1,default:void 0},streetView:{type:Object,required:!1},streetViewControl:{type:Boolean,required:!1,default:void 0},streetViewControlPosition:{type:String,required:!1},styles:{type:Array,required:!1},tilt:{type:Number,required:!1},zoom:{type:Number,required:!1},zoomControl:{type:Boolean,required:!1,default:void 0},zoomControlPosition:{type:String,required:!1},nonce:{type:String,default:""}},emits:jt,setup(e,{emit:t}){const r=(0,k.KR)(),n=(0,k.KR)(!1),a=(0,k.KR)(),s=(0,k.KR)(),i=(0,k.KR)(!1);(0,o.Gt)(At,a),(0,o.Gt)(It,s),(0,o.Gt)(Rt,i);const l=()=>{const t={...e};Object.keys(t).forEach((e=>{void 0===t[e]&&delete t[e]}));const r=e=>{var t;return e?{position:null==(t=s.value)?void 0:t.ControlPosition[e]}:{}},o={scaleControlOptions:e.scaleControlStyle?{style:e.scaleControlStyle}:{},panControlOptions:r(e.panControlPosition),zoomControlOptions:r(e.zoomControlPosition),rotateControlOptions:r(e.rotateControlPosition),streetViewControlOptions:r(e.streetViewControlPosition),fullscreenControlOptions:r(e.fullscreenControlPosition),disableDefaultUI:e.disableDefaultUi};return{...t,...o}},u=(0,o.wB)([s,a],(([e,t])=>{const r=e,o=t;r&&o&&(r.event.addListenerOnce(o,"tilesloaded",(()=>{i.value=!0})),setTimeout(u,0))}),{immediate:!0}),c=()=>{try{const{apiKey:t,region:r,version:o,language:n,libraries:a,nonce:s}=e;Dt=new Bt({apiKey:t,region:r,version:o,language:n,libraries:a,nonce:s})}catch(t){console.error(t)}},d=i=>{s.value=(0,k.IG)(i.maps),a.value=(0,k.IG)(new i.maps.Map(r.value,l()));const u=Vt(s.value);s.value[Ot]=u,jt.forEach((e=>{var r;null==(r=a.value)||r.addListener(e,(r=>t(e,r)))})),n.value=!0;const c=Object.keys(e).filter((e=>!["apiPromise","apiKey","version","libraries","region","language","center","zoom","nonce"].includes(e))).map((t=>(0,k.lW)(e,t)));(0,o.wB)([()=>e.center,()=>e.zoom,...c],(([e,t],[r,o])=>{var n,s,i;const{center:u,zoom:c,...d}=l();null==(n=a.value)||n.setOptions(d),void 0!==t&&t!==o&&(null==(s=a.value)||s.setZoom(t));const p=!r||e.lng!==r.lng||e.lat!==r.lat;e&&p&&(null==(i=a.value)||i.panTo(e))}))};return(0,o.sV)((()=>{e.apiPromise&&e.apiPromise instanceof Promise?e.apiPromise.then(d):(c(),Dt.load().then(d))})),(0,o.xo)((()=>{var e;i.value=!1,a.value&&(null==(e=s.value)||e.event.clearInstanceListeners(a.value))})),{mapRef:r,ready:n,map:a,api:s,mapTilesLoaded:i}}}),Ut=(e,t)=>{const r=e.__vccOpts||e;for(const[o,n]of t)r[o]=n;return r},Xt={ref:"mapRef",class:"mapdiv"};function Kt(e,t,r,n,a,s){return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("div",Xt,null,512),(0,o.RG)(e.$slots,"default",(0,g._B)((0,o.Ng)({ready:e.ready,map:e.map,api:e.api,mapTilesLoaded:e.mapTilesLoaded})),void 0,!0)])}const qt=Ut(Nt,[["render",Kt],["__scopeId","data-v-d05fc6bc"]]);function $t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zt=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var o,n,a;if(Array.isArray(t)){if(o=t.length,o!=r.length)return!1;for(n=o;0!==n--;)if(!e(t[n],r[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(a=Object.keys(t),o=a.length,o!==Object.keys(r).length)return!1;for(n=o;0!==n--;)if(!Object.prototype.hasOwnProperty.call(r,a[n]))return!1;for(n=o;0!==n--;){var s=a[n];if(!e(t[s],r[s]))return!1}return!0}return t!==t&&r!==r};const Gt=$t(zt),Zt=["click","drag","dragend","dragstart","gmp-click"],Qt=(0,o.pM)({name:"AdvancedMarker",props:{options:{type:Object,required:!0},pinOptions:{type:Object,required:!1}},emits:Zt,setup(e,{emit:t,expose:r,slots:n}){const a=(0,k.lW)(e,"options"),s=(0,k.lW)(e,"pinOptions"),i=(0,k.KR)(),l=(0,o.WQ)(At,(0,k.KR)()),u=(0,o.WQ)(It,(0,k.KR)()),c=(0,o.WQ)(Mt,(0,k.KR)()),d=(0,o.EW)((()=>!!(c.value&&u.value&&i.value instanceof google.maps.marker.AdvancedMarkerElement)));return(0,o.wB)([l,a,s],(async(e,[r,o,n])=>{var p,h,v;const f=!Gt(a.value,o)||!Gt(s.value,n)||l.value!==r;if(!l.value||!u.value||!f)return;const{AdvancedMarkerElement:m,PinElement:g}=u.value.marker;if(i.value){const{map:e,content:t,...r}=a.value;Object.assign(i.value,{content:s.value?new g(s.value).element:t,...r}),d.value&&(null==(p=c.value)||p.removeMarker(i.value),null==(h=c.value)||h.addMarker(i.value))}else s.value&&(a.value.content=new g(s.value).element),i.value=(0,k.IG)(new m(a.value)),d.value?null==(v=c.value)||v.addMarker(i.value):i.value.map=l.value,Zt.forEach((e=>{var r;null==(r=i.value)||r.addListener(e,(r=>t(e,r)))}))}),{immediate:!0}),(0,o.xo)((()=>{var e,t;i.value&&(null==(e=u.value)||e.event.clearInstanceListeners(i.value),d.value?null==(t=c.value)||t.removeMarker(i.value):i.value.map=null)})),(0,o.Gt)(St,i),r({marker:i}),()=>{var e;return null==(e=n.default)?void 0:e.call(n)}}}),Ht=e=>"Marker"===e,Yt=e=>e===Ot,Jt=(e,t,r,n)=>{const a=(0,k.KR)(),s=(0,o.WQ)(At,(0,k.KR)()),i=(0,o.WQ)(It,(0,k.KR)()),l=(0,o.WQ)(Mt,(0,k.KR)()),u=(0,o.EW)((()=>!!(l.value&&i.value&&(a.value instanceof i.value.Marker||a.value instanceof i.value[Ot]))));return(0,o.wB)([s,r],((o,[c,d])=>{var p,h,v;const f=!Gt(r.value,d)||s.value!==c;!s.value||!i.value||!f||(a.value?(a.value.setOptions(r.value),u.value&&(null==(p=l.value)||p.removeMarker(a.value),null==(h=l.value)||h.addMarker(a.value))):(Ht(e)||Yt(e)?a.value=(0,k.IG)(new i.value[e](r.value)):a.value=(0,k.IG)(new i.value[e]({...r.value,map:s.value})),u.value?null==(v=l.value)||v.addMarker(a.value):a.value.setMap(s.value),t.forEach((e=>{var t;null==(t=a.value)||t.addListener(e,(t=>n(e,t)))}))))}),{immediate:!0}),(0,o.xo)((()=>{var e,t;a.value&&(null==(e=i.value)||e.event.clearInstanceListeners(a.value),u.value?null==(t=l.value)||t.removeMarker(a.value):a.value.setMap(null))})),a},er=["animation_changed","click","dblclick","rightclick","dragstart","dragend","drag","mouseover","mousedown","mouseout","mouseup","draggable_changed","clickable_changed","contextmenu","cursor_changed","flat_changed","rightclick","zindex_changed","icon_changed","position_changed","shape_changed","title_changed","visible_changed"],tr=((0,o.pM)({name:"Marker",props:{options:{type:Object,required:!0}},emits:er,setup(e,{emit:t,expose:r,slots:n}){const a=(0,k.lW)(e,"options"),s=Jt("Marker",er,a,t);return(0,o.Gt)(St,s),r({marker:s}),()=>{var e;return null==(e=n.default)?void 0:e.call(n)}}}),(0,o.pM)({name:"Polyline",props:{options:{type:Object,required:!0}},emits:Tt,setup(e,{emit:t}){const r=(0,k.lW)(e,"options");return{polyline:Jt("Polyline",Tt,r,t)}},render:()=>null}),(0,o.pM)({name:"Polygon",props:{options:{type:Object,required:!0}},emits:Tt,setup(e,{emit:t}){const r=(0,k.lW)(e,"options");return{polygon:Jt("Polygon",Tt,r,t)}},render:()=>null}),Tt.concat(["bounds_changed"])),rr=((0,o.pM)({name:"Rectangle",props:{options:{type:Object,required:!0}},emits:tr,setup(e,{emit:t}){const r=(0,k.lW)(e,"options");return{rectangle:Jt("Rectangle",tr,r,t)}},render:()=>null}),Tt.concat(["center_changed","radius_changed"]));(0,o.pM)({name:"Circle",props:{options:{type:Object,required:!0}},emits:rr,setup(e,{emit:t}){const r=(0,k.lW)(e,"options");return{circle:Jt("Circle",rr,r,t)}},render:()=>null}),(0,o.pM)({props:{position:{type:String,required:!0},index:{type:Number,default:1}},emits:["content:loaded"],setup(e,{emit:t}){const r=(0,k.KR)(null),n=(0,o.WQ)(At,(0,k.KR)()),a=(0,o.WQ)(It,(0,k.KR)()),s=(0,o.WQ)(Rt,(0,k.KR)(!1)),i=(0,o.wB)([s,a,r],(([r,o,n])=>{o&&r&&n&&(l(e.position),t("content:loaded"),setTimeout(i,0))}),{immediate:!0}),l=e=>{if(n.value&&a.value&&r.value){const t=a.value.ControlPosition[e];n.value.controls[t].push(r.value)}},u=e=>{if(n.value&&a.value){let t=null;const o=a.value.ControlPosition[e];n.value.controls[o].forEach(((e,o)=>{e===r.value&&(t=o)})),null!==t&&n.value.controls[o].removeAt(t)}};return(0,o.xo)((()=>u(e.position))),(0,o.wB)((()=>e.position),((e,t)=>{u(t),l(e)})),(0,o.wB)((()=>e.index),(t=>{t&&r.value&&(r.value.index=e.index)})),{controlRef:r}}});const or=["closeclick","content_changed","domready","position_changed","visible","zindex_changed"];(0,o.pM)({inheritAttrs:!1,props:{options:{type:Object,default:()=>({})},modelValue:{type:Boolean}},emits:[...or,"update:modelValue"],setup(e,{slots:t,emit:r,expose:n}){const a=(0,k.KR)(),s=(0,k.KR)(),i=(0,o.WQ)(At,(0,k.KR)()),l=(0,o.WQ)(It,(0,k.KR)()),u=(0,o.WQ)(St,(0,k.KR)());let c,d=e.modelValue;const p=(0,o.EW)((()=>{var e;return null==(e=t.default)?void 0:e.call(t).some((e=>e.type!==o.Mw))})),h=e=>{d=e,r("update:modelValue",e)},v=e=>{a.value&&(a.value.open({map:i.value,anchor:u.value,...e}),h(!0))},f=()=>{a.value&&(a.value.close(),h(!1))};return(0,o.sV)((()=>{(0,o.wB)([i,()=>e.options],(([e,t],[o,n])=>{var f;const m=!Gt(t,n)||i.value!==o;i.value&&l.value&&m&&(a.value?(a.value.setOptions({...t,content:p.value?s.value:t.content}),u.value||v()):(a.value=(0,k.IG)(new l.value.InfoWindow({...t,content:p.value?s.value:t.content})),u.value&&(c=u.value.addListener("click",(()=>{v()}))),(!u.value||d)&&v(),or.forEach((e=>{var t;null==(t=a.value)||t.addListener(e,(t=>r(e,t)))})),null==(f=a.value)||f.addListener("closeclick",(()=>h(!1)))))}),{immediate:!0}),(0,o.wB)((()=>e.modelValue),(e=>{e!==d&&(e?v():f())}))})),(0,o.xo)((()=>{var e;c&&c.remove(),a.value&&(null==(e=l.value)||e.event.clearInstanceListeners(a.value),f())})),n({infoWindow:a,open:v,close:f}),{infoWindow:a,infoWindowRef:s,hasSlotContent:p,open:v,close:f}}});const nr=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],ar=1,sr=8;class ir{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[t,r]=new Uint8Array(e,0,2);if(219!==t)throw new Error("Data does not appear to be in a KDBush format.");const o=r>>4;if(o!==ar)throw new Error(`Got v${o} data when expected v${ar}.`);const n=nr[15&r];if(!n)throw new Error("Unrecognized array type.");const[a]=new Uint16Array(e,2,1),[s]=new Uint32Array(e,4,1);return new ir(s,a,n,e)}constructor(e,t=64,r=Float64Array,o){if(isNaN(e)||e<0)throw new Error(`Unpexpected numItems value: ${e}.`);this.numItems=+e,this.nodeSize=Math.min(Math.max(+t,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;const n=nr.indexOf(this.ArrayType),a=2*e*this.ArrayType.BYTES_PER_ELEMENT,s=e*this.IndexArrayType.BYTES_PER_ELEMENT,i=(8-s%8)%8;if(n<0)throw new Error(`Unexpected typed array class: ${r}.`);o&&o instanceof ArrayBuffer?(this.data=o,this.ids=new this.IndexArrayType(this.data,sr,e),this.coords=new this.ArrayType(this.data,sr+s+i,2*e),this._pos=2*e,this._finished=!0):(this.data=new ArrayBuffer(sr+a+s+i),this.ids=new this.IndexArrayType(this.data,sr,e),this.coords=new this.ArrayType(this.data,sr+s+i,2*e),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(ar<<4)+n]),new Uint16Array(this.data,2,1)[0]=t,new Uint32Array(this.data,4,1)[0]=e)}add(e,t){const r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=t,r}finish(){const e=this._pos>>1;if(e!==this.numItems)throw new Error(`Added ${e} items when expected ${this.numItems}.`);return lr(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,t,r,o){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:n,coords:a,nodeSize:s}=this,i=[0,n.length-1,0],l=[];for(;i.length;){const u=i.pop()||0,c=i.pop()||0,d=i.pop()||0;if(c-d<=s){for(let s=d;s<=c;s++){const i=a[2*s],u=a[2*s+1];i>=e&&i<=r&&u>=t&&u<=o&&l.push(n[s])}continue}const p=d+c>>1,h=a[2*p],v=a[2*p+1];h>=e&&h<=r&&v>=t&&v<=o&&l.push(n[p]),(0===u?e<=h:t<=v)&&(i.push(d),i.push(p-1),i.push(1-u)),(0===u?r>=h:o>=v)&&(i.push(p+1),i.push(c),i.push(1-u))}return l}within(e,t,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:o,coords:n,nodeSize:a}=this,s=[0,o.length-1,0],i=[],l=r*r;for(;s.length;){const u=s.pop()||0,c=s.pop()||0,d=s.pop()||0;if(c-d<=a){for(let r=d;r<=c;r++)pr(n[2*r],n[2*r+1],e,t)<=l&&i.push(o[r]);continue}const p=d+c>>1,h=n[2*p],v=n[2*p+1];pr(h,v,e,t)<=l&&i.push(o[p]),(0===u?e-r<=h:t-r<=v)&&(s.push(d),s.push(p-1),s.push(1-u)),(0===u?e+r>=h:t+r>=v)&&(s.push(p+1),s.push(c),s.push(1-u))}return i}}function lr(e,t,r,o,n,a){if(n-o<=r)return;const s=o+n>>1;ur(e,t,s,o,n,a),lr(e,t,r,o,s-1,1-a),lr(e,t,r,s+1,n,1-a)}function ur(e,t,r,o,n,a){for(;n>o;){if(n-o>600){const s=n-o+1,i=r-o+1,l=Math.log(s),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(s-u)/s)*(i-s/2<0?-1:1),d=Math.max(o,Math.floor(r-i*u/s+c)),p=Math.min(n,Math.floor(r+(s-i)*u/s+c));ur(e,t,r,d,p,a)}const s=t[2*r+a];let i=o,l=n;for(cr(e,t,o,r),t[2*n+a]>s&&cr(e,t,o,n);i<l;){for(cr(e,t,i,l),i++,l--;t[2*i+a]<s;)i++;for(;t[2*l+a]>s;)l--}t[2*o+a]===s?cr(e,t,o,l):(l++,cr(e,t,l,n)),l<=r&&(o=l+1),r<=l&&(n=l-1)}}function cr(e,t,r,o){dr(e,r,o),dr(t,2*r,2*o),dr(t,2*r+1,2*o+1)}function dr(e,t,r){const o=e[t];e[t]=e[r],e[r]=o}function pr(e,t,r,o){const n=e-r,a=t-o;return n*n+a*a}const hr={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},vr=Math.fround||(e=>t=>(e[0]=+t,e[0]))(new Float32Array(1)),fr=2,mr=3,gr=4,yr=5,br=6;class wr{constructor(e){this.options=Object.assign(Object.create(hr),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){const{log:t,minZoom:r,maxZoom:o}=this.options;t&&console.time("total time");const n=`prepare ${e.length} points`;t&&console.time(n),this.points=e;const a=[];for(let i=0;i<e.length;i++){const t=e[i];if(!t.geometry)continue;const[r,o]=t.geometry.coordinates,n=vr(_r(r)),s=vr(xr(o));a.push(n,s,1/0,i,-1,1),this.options.reduce&&a.push(0)}let s=this.trees[o+1]=this._createTree(a);t&&console.timeEnd(n);for(let i=o;i>=r;i--){const e=+Date.now();s=this.trees[i]=this._createTree(this._cluster(s,i)),t&&console.log("z%d: %d clusters in %dms",i,s.numItems,+Date.now()-e)}return t&&console.timeEnd("total time"),this}getClusters(e,t){let r=((e[0]+180)%360+360)%360-180;const o=Math.max(-90,Math.min(90,e[1]));let n=180===e[2]?180:((e[2]+180)%360+360)%360-180;const a=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,n=180;else if(r>n){const e=this.getClusters([r,o,180,a],t),s=this.getClusters([-180,o,n,a],t);return e.concat(s)}const s=this.trees[this._limitZoom(t)],i=s.range(_r(r),xr(a),_r(n),xr(o)),l=s.data,u=[];for(const c of i){const e=this.stride*c;u.push(l[e+yr]>1?kr(l,e,this.clusterProps):this.points[l[e+mr]])}return u}getChildren(e){const t=this._getOriginId(e),r=this._getOriginZoom(e),o="No cluster with the specified id.",n=this.trees[r];if(!n)throw new Error(o);const a=n.data;if(t*this.stride>=a.length)throw new Error(o);const s=this.options.radius/(this.options.extent*Math.pow(2,r-1)),i=a[t*this.stride],l=a[t*this.stride+1],u=n.within(i,l,s),c=[];for(const d of u){const t=d*this.stride;a[t+gr]===e&&c.push(a[t+yr]>1?kr(a,t,this.clusterProps):this.points[a[t+mr]])}if(0===c.length)throw new Error(o);return c}getLeaves(e,t,r){t=t||10,r=r||0;const o=[];return this._appendLeaves(o,e,t,r,0),o}getTile(e,t,r){const o=this.trees[this._limitZoom(e)],n=Math.pow(2,e),{extent:a,radius:s}=this.options,i=s/a,l=(r-i)/n,u=(r+1+i)/n,c={features:[]};return this._addTileFeatures(o.range((t-i)/n,l,(t+1+i)/n,u),o.data,t,r,n,c),0===t&&this._addTileFeatures(o.range(1-i/n,l,1,u),o.data,n,r,n,c),t===n-1&&this._addTileFeatures(o.range(0,l,i/n,u),o.data,-1,r,n,c),c.features.length?c:null}getClusterExpansionZoom(e){let t=this._getOriginZoom(e)-1;for(;t<=this.options.maxZoom;){const r=this.getChildren(e);if(t++,1!==r.length)break;e=r[0].properties.cluster_id}return t}_appendLeaves(e,t,r,o,n){const a=this.getChildren(t);for(const s of a){const t=s.properties;if(t&&t.cluster?n+t.point_count<=o?n+=t.point_count:n=this._appendLeaves(e,t.cluster_id,r,o,n):n<o?n++:e.push(s),e.length===r)break}return n}_createTree(e){const t=new ir(e.length/this.stride|0,this.options.nodeSize,Float32Array);for(let r=0;r<e.length;r+=this.stride)t.add(e[r],e[r+1]);return t.finish(),t.data=e,t}_addTileFeatures(e,t,r,o,n,a){for(const s of e){const e=s*this.stride,i=t[e+yr]>1;let l,u,c;if(i)l=Er(t,e,this.clusterProps),u=t[e],c=t[e+1];else{const r=this.points[t[e+mr]];l=r.properties;const[o,n]=r.geometry.coordinates;u=_r(o),c=xr(n)}const d={type:1,geometry:[[Math.round(this.options.extent*(u*n-r)),Math.round(this.options.extent*(c*n-o))]],tags:l};let p;p=i||this.options.generateId?t[e+mr]:this.points[t[e+mr]].id,void 0!==p&&(d.id=p),a.features.push(d)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){const{radius:r,extent:o,reduce:n,minPoints:a}=this.options,s=r/(o*Math.pow(2,t)),i=e.data,l=[],u=this.stride;for(let c=0;c<i.length;c+=u){if(i[c+fr]<=t)continue;i[c+fr]=t;const r=i[c],o=i[c+1],d=e.within(i[c],i[c+1],s),p=i[c+yr];let h=p;for(const e of d){const r=e*u;i[r+fr]>t&&(h+=i[r+yr])}if(h>p&&h>=a){let e,a=r*p,s=o*p,v=-1;const f=(c/u<<5)+(t+1)+this.points.length;for(const r of d){const o=r*u;if(i[o+fr]<=t)continue;i[o+fr]=t;const l=i[o+yr];a+=i[o]*l,s+=i[o+1]*l,i[o+gr]=f,n&&(e||(e=this._map(i,c,!0),v=this.clusterProps.length,this.clusterProps.push(e)),n(e,this._map(i,o)))}i[c+gr]=f,l.push(a/h,s/h,1/0,f,-1,h),n&&l.push(v)}else{for(let e=0;e<u;e++)l.push(i[c+e]);if(h>1)for(const e of d){const r=e*u;if(!(i[r+fr]<=t)){i[r+fr]=t;for(let e=0;e<u;e++)l.push(i[r+e])}}}}return l}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t,r){if(e[t+yr]>1){const o=this.clusterProps[e[t+br]];return r?Object.assign({},o):o}const o=this.points[e[t+mr]].properties,n=this.options.map(o);return r&&n===o?Object.assign({},n):n}}function kr(e,t,r){return{type:"Feature",id:e[t+mr],properties:Er(e,t,r),geometry:{type:"Point",coordinates:[Cr(e[t]),Ar(e[t+1])]}}}function Er(e,t,r){const o=e[t+yr],n=o>=1e4?`${Math.round(o/1e3)}k`:o>=1e3?Math.round(o/100)/10+"k":o,a=e[t+br],s=-1===a?{}:Object.assign({},r[a]);return Object.assign(s,{cluster:!0,cluster_id:e[t+mr],point_count:o,point_count_abbreviated:n})}function _r(e){return e/360+.5}function xr(e){const t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function Cr(e){return 360*(e-.5)}function Ar(e){const t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Ir(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(r[o[n]]=e[o[n]])}return r}class Sr{static isAdvancedMarkerAvailable(e){return google.maps.marker&&!0===e.getMapCapabilities().isAdvancedMarkersAvailable}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,t){this.isAdvancedMarker(e)?e.map=t:e.setMap(t)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return!!this.isAdvancedMarker(e)||e.getVisible()}}class Mr{constructor({markers:e,position:t}){this.markers=e,t&&(t instanceof google.maps.LatLng?this._position=t:this._position=new google.maps.LatLng(t))}get bounds(){if(0===this.markers.length&&!this._position)return;const e=new google.maps.LatLngBounds(this._position,this._position);for(const t of this.markers)e.extend(Sr.getPosition(t));return e}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter((e=>Sr.getVisible(e))).length}push(e){this.markers.push(e)}delete(){this.marker&&(Sr.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}const Or=(e,t,r,o)=>{const n=Rr(e.getBounds(),t,o);return r.filter((e=>n.contains(Sr.getPosition(e))))},Rr=(e,t,r)=>{const{northEast:o,southWest:n}=Fr(e,t),a=Pr({northEast:o,southWest:n},r);return Wr(a,t)},Tr=(e,t,r)=>{const o=Rr(e,t,r),n=o.getNorthEast(),a=o.getSouthWest();return[a.lng(),a.lat(),n.lng(),n.lat()]},Fr=(e,t)=>({northEast:t.fromLatLngToDivPixel(e.getNorthEast()),southWest:t.fromLatLngToDivPixel(e.getSouthWest())}),Pr=({northEast:e,southWest:t},r)=>(e.x+=r,e.y-=r,t.x-=r,t.y+=r,{northEast:e,southWest:t}),Wr=({northEast:e,southWest:t},r)=>{const o=r.fromDivPixelToLatLng(t),n=r.fromDivPixelToLatLng(e);return new google.maps.LatLngBounds(o,n)};class Lr{constructor({maxZoom:e=16}){this.maxZoom=e}noop({markers:e}){return Vr(e)}}class Br extends Lr{constructor(e){var{viewportPadding:t=60}=e,r=Ir(e,["viewportPadding"]);super(r),this.viewportPadding=60,this.viewportPadding=t}calculate({markers:e,map:t,mapCanvasProjection:r}){return t.getZoom()>=this.maxZoom?{clusters:this.noop({markers:e}),changed:!1}:{clusters:this.cluster({markers:Or(t,r,e,this.viewportPadding),map:t,mapCanvasProjection:r})}}}const Vr=e=>e.map((e=>new Mr({position:Sr.getPosition(e),markers:[e]})));class Dr extends Lr{constructor(e){var{maxZoom:t,radius:r=60}=e,o=Ir(e,["maxZoom","radius"]);super({maxZoom:t}),this.state={zoom:-1},this.superCluster=new wr(Object.assign({maxZoom:this.maxZoom,radius:r},o))}calculate(e){let t=!1;const r={zoom:e.map.getZoom()};if(!Gt(e.markers,this.markers)){t=!0,this.markers=[...e.markers];const r=this.markers.map((e=>{const t=Sr.getPosition(e);return{type:"Feature",geometry:{type:"Point",coordinates:[t.lng(),t.lat()]},properties:{marker:e}}}));this.superCluster.load(r)}return t||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(t=!Gt(this.state,r)),this.state=r,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}cluster({map:e}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(e.getZoom())).map((e=>this.transformCluster(e)))}transformCluster({geometry:{coordinates:[e,t]},properties:r}){if(r.cluster)return new Mr({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map((e=>e.properties.marker)),position:{lat:t,lng:e}});const o=r.marker;return new Mr({markers:[o],position:Sr.getPosition(o)})}}class jr extends Br{constructor(e){var{maxZoom:t,radius:r=60,viewportPadding:o=60}=e,n=Ir(e,["maxZoom","radius","viewportPadding"]);super({maxZoom:t,viewportPadding:o}),this.superCluster=new wr(Object.assign({maxZoom:this.maxZoom,radius:r},n)),this.state={zoom:-1,view:[0,0,0,0]}}calculate(e){const t={zoom:Math.round(e.map.getZoom()),view:Tr(e.map.getBounds(),e.mapCanvasProjection,this.viewportPadding)};let r=!Gt(this.state,t);if(!Gt(e.markers,this.markers)){r=!0,this.markers=[...e.markers];const t=this.markers.map((e=>{const t=Sr.getPosition(e);return{type:"Feature",geometry:{type:"Point",coordinates:[t.lng(),t.lat()]},properties:{marker:e}}}));this.superCluster.load(t)}return r&&(this.clusters=this.cluster(e),this.state=t),{clusters:this.clusters,changed:r}}cluster({map:e,mapCanvasProjection:t}){const r={zoom:Math.round(e.getZoom()),view:Tr(e.getBounds(),t,this.viewportPadding)};return this.superCluster.getClusters(r.view,r.zoom).map((e=>this.transformCluster(e)))}transformCluster({geometry:{coordinates:[e,t]},properties:r}){if(r.cluster)return new Mr({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map((e=>e.properties.marker)),position:{lat:t,lng:e}});const o=r.marker;return new Mr({markers:[o],position:Sr.getPosition(o)})}}class Nr{constructor(e,t){this.markers={sum:e.length};const r=t.map((e=>e.count)),o=r.reduce(((e,t)=>e+t),0);this.clusters={count:t.length,markers:{mean:o/t.length,sum:o,min:Math.min(...r),max:Math.max(...r)}}}}class Ur{render({count:e,position:t},r,o){const n=`<svg fill="${e>Math.max(10,r.clusters.markers.mean)?"#ff0000":"#0000ff"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">\n<circle cx="120" cy="120" opacity=".6" r="70" />\n<circle cx="120" cy="120" opacity=".3" r="90" />\n<circle cx="120" cy="120" opacity=".2" r="110" />\n<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">${e}</text>\n</svg>`,a=`Cluster of ${e} markers`,s=Number(google.maps.Marker.MAX_ZINDEX)+e;if(Sr.isAdvancedMarkerAvailable(o)){const e=document.createElement("div");e.innerHTML=n;const r=e.firstElementChild;r.setAttribute("transform","translate(0 25)");const i={map:o,position:t,zIndex:s,title:a,content:r};return new google.maps.marker.AdvancedMarkerElement(i)}const i={position:t,zIndex:s,title:a,icon:{url:`data:image/svg+xml;base64,${btoa(n)}`,anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(i)}}function Xr(e,t){for(let r in t.prototype)e.prototype[r]=t.prototype[r]}class Kr{constructor(){Xr(Kr,google.maps.OverlayView)}}var qr;(function(e){e.CLUSTERING_BEGIN="clusteringbegin",e.CLUSTERING_END="clusteringend",e.CLUSTER_CLICK="click"})(qr||(qr={}));const $r=(e,t,r)=>{r.fitBounds(t.bounds)};class zr extends Kr{constructor({map:e,markers:t=[],algorithmOptions:r={},algorithm:o=new Dr(r),renderer:n=new Ur,onClusterClick:a=$r}){super(),this.markers=[...t],this.clusters=[],this.algorithm=o,this.renderer=n,this.onClusterClick=a,e&&this.setMap(e)}addMarker(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}addMarkers(e,t){e.forEach((e=>{this.addMarker(e,!0)})),t||this.render()}removeMarker(e,t){const r=this.markers.indexOf(e);return-1!==r&&(Sr.setMap(e,null),this.markers.splice(r,1),t||this.render(),!0)}removeMarkers(e,t){let r=!1;return e.forEach((e=>{r=this.removeMarker(e,!0)||r})),r&&!t&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){const e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,qr.CLUSTERING_BEGIN,this);const{clusters:t,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||null==r){const e=new Set;for(const o of t)1==o.markers.length&&e.add(o.markers[0]);const r=[];for(const t of this.clusters)null!=t.marker&&(1==t.markers.length?e.has(t.marker)||Sr.setMap(t.marker,null):r.push(t.marker));this.clusters=t,this.renderClusters(),requestAnimationFrame((()=>r.forEach((e=>Sr.setMap(e,null)))))}google.maps.event.trigger(this,qr.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach((e=>Sr.setMap(e,null))),this.clusters.forEach((e=>e.delete())),this.clusters=[]}renderClusters(){const e=new Nr(this.markers,this.clusters),t=this.getMap();this.clusters.forEach((r=>{1===r.markers.length?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,t),r.markers.forEach((e=>Sr.setMap(e,null))),this.onClusterClick&&r.marker.addListener("click",(e=>{google.maps.event.trigger(this,qr.CLUSTER_CLICK,r),this.onClusterClick(e,r,t)}))),Sr.setMap(r.marker,t)}))}}const Gr=Object.values(qr);(0,o.pM)({name:"MarkerCluster",props:{options:{type:Object,default:()=>({})}},emits:Gr,setup(e,{emit:t,expose:r,slots:n}){const a=(0,k.KR)(),s=(0,o.WQ)(At,(0,k.KR)()),i=(0,o.WQ)(It,(0,k.KR)());return(0,o.Gt)(Mt,a),(0,o.wB)(s,(()=>{s.value&&(a.value=(0,k.IG)(new zr({map:s.value,algorithm:new jr(e.options.algorithmOptions??{}),...e.options})),Gr.forEach((e=>{var r;null==(r=a.value)||r.addListener(e,(r=>t(e,r)))})))}),{immediate:!0}),(0,o.xo)((()=>{var e;a.value&&(null==(e=i.value)||e.event.clearInstanceListeners(a.value),a.value.clearMarkers(),a.value.setMap(null))})),r({markerCluster:a}),()=>{var e;return null==(e=n.default)?void 0:e.call(n)}}}),(0,o.pM)({inheritAttrs:!1,props:{options:{type:Object,required:!0}},setup(e,{slots:t,emit:r,expose:n}){const a=(0,k.KR)(),s=(0,o.EW)((()=>{var e;return null==(e=t.default)?void 0:e.call(t).some((e=>e.type!==o.Mw))})),i=(0,o.EW)((()=>({...e.options,element:a.value}))),l=Jt(Ot,[],i,r);return n({customMarker:l}),{customMarkerRef:a,customMarker:l,hasSlotContent:s}}});(0,o.pM)({name:"HeatmapLayer",props:{options:{type:Object,default:()=>({})}},setup(e){const t=(0,k.KR)(),r=(0,o.WQ)(At,(0,k.KR)()),n=(0,o.WQ)(It,(0,k.KR)());return(0,o.wB)([r,()=>e.options],(([e,o],[a,s])=>{var i;const l=!Gt(o,s)||r.value!==a;if(r.value&&n.value&&l){const e=structuredClone(o);if(e.data&&!(e.data instanceof n.value.MVCArray)){const t=n.value.LatLng;e.data=null==(i=e.data)?void 0:i.map((e=>e instanceof t||"location"in e&&(e.location instanceof t||null===e.location)?e:"location"in e?{...e,location:new t(e.location)}:new t(e)))}t.value?t.value.setOptions(e):t.value=(0,k.IG)(new n.value.visualization.HeatmapLayer({...e,map:r.value}))}}),{immediate:!0}),(0,o.xo)((()=>{t.value&&t.value.setMap(null)})),{heatmapLayer:t}},render:()=>null});var Zr=r(2586);const Qr=(0,Zr.G)("v-alert-title");var Hr=r(7852),Yr=r(2542),Jr=r(7018),eo=r(4581),to=r(9788),ro=r(8184),oo=r(3240),no=r(2428);const ao=["success","info","warning","error"],so=(0,_.j)({border:{type:[Boolean,String],validator:e=>"boolean"===typeof e||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:eo.TX,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>ao.includes(e)},...(0,R.u)(),...(0,le.r)(),...(0,Yr.X)(),...(0,Jr.s)(),...(0,to.M)(),...(0,ro.S)(),...(0,oo.S)(),...(0,P.X)(),...(0,W.yx)(),...(0,no.gI)({variant:"flat"})},"VAlert"),io=(0,C.RW)()({name:"VAlert",props:so(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:r,slots:n}=t;const a=(0,Z.q)(e,"modelValue"),s=(0,o.EW)((()=>{if(!1!==e.icon)return e.type?e.icon??`$${e.type}`:e.icon})),i=(0,o.EW)((()=>({color:e.color??e.type,variant:e.variant}))),{themeClasses:l}=(0,W.NX)(e),{colorClasses:u,colorStyles:c,variantClasses:d}=(0,no.rn)(i),{densityClasses:p}=(0,le.Q)(e),{dimensionStyles:h}=(0,Yr.S)(e),{elevationClasses:v}=(0,Jr.j)(e),{locationStyles:f}=(0,to.z)(e),{positionClasses:m}=(0,ro.J)(e),{roundedClasses:g}=(0,oo.v)(e),{textColorClasses:w,textColorStyles:E}=(0,b.aH)((0,k.lW)(e,"borderColor")),{t:_}=(0,F.Ym)(),x=(0,o.EW)((()=>({"aria-label":_(e.closeLabel),onClick(e){a.value=!1,r("click:close",e)}})));return()=>{const t=!(!n.prepend&&!s.value),r=!(!n.title&&!e.title),i=!(!n.close&&!e.closable);return a.value&&(0,o.bF)(e.tag,{class:["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${!0===e.border?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},l.value,u.value,p.value,v.value,m.value,g.value,d.value,e.class],style:[c.value,h.value,f.value,e.style],role:"alert"},{default:()=>[(0,no.wN)(!1,"v-alert"),e.border&&(0,o.bF)("div",{key:"border",class:["v-alert__border",w.value],style:E.value},null),t&&(0,o.bF)("div",{key:"prepend",class:"v-alert__prepend"},[n.prepend?(0,o.bF)(Hr.K,{key:"prepend-defaults",disabled:!s.value,defaults:{VIcon:{density:e.density,icon:s.value,size:e.prominent?44:28}}},n.prepend):(0,o.bF)(He.w,{key:"prepend-icon",density:e.density,icon:s.value,size:e.prominent?44:28},null)]),(0,o.bF)("div",{class:"v-alert__content"},[r&&(0,o.bF)(Qr,{key:"title"},{default:()=>[n.title?.()??e.title]}),n.text?.()??e.text,n.default?.()]),n.append&&(0,o.bF)("div",{key:"append",class:"v-alert__append"},[n.append()]),i&&(0,o.bF)("div",{key:"close",class:"v-alert__close"},[n.close?(0,o.bF)(Hr.K,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>[n.close?.({props:x.value})]}):(0,o.bF)(y.D,(0,o.v6)({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},x.value),null)])]})}}});var lo=r(7009),uo=r(6498),co=r(7294);const po=["href"],ho=["href"];var vo={__name:"VendorDetailsDialog",props:{id:{type:String,required:!0}},setup(e){const t=e,r=(0,o.EW)((()=>(0,Ge.a)().getById(t.id)));return(t,n)=>r.value?((0,o.uX)(),(0,o.Wv)(We.J,{key:0,class:"mb-6"},{default:(0,o.k6)((()=>[(0,o.bF)(Le.r,null,{default:(0,o.k6)((()=>[(0,o.eW)((0,g.v_)(r.value.name),1)])),_:1}),(0,o.bF)(Be.O,null,{default:(0,o.k6)((()=>[(0,o.bF)(De.y,{src:r.value.image,"aspect-ratio":"1.8",cover:"",class:"mb-2",alt:"Store Image"},null,8,["src"]),(0,o.Lk)("p",null,(0,g.v_)(r.value.description),1),(0,o.bF)(lo.x8,null,{default:(0,o.k6)((()=>[r.value.phone?((0,o.uX)(),(0,o.Wv)(uo.g,{key:0,class:"pa-2 pl-0"},{default:(0,o.k6)((()=>[(0,o.bF)(co.U,null,{default:(0,o.k6)((()=>[(0,o.bF)(He.w,{"aria-label":"Phone",class:"mr-2"},{default:(0,o.k6)((()=>[(0,o.eW)("mdi-phone")])),_:1}),(0,o.Lk)("a",{href:`tel:${r.value.phone}`},(0,g.v_)(r.value.phone),9,po)])),_:1})])),_:1})):(0,o.Q3)("",!0),r.value.email?((0,o.uX)(),(0,o.Wv)(uo.g,{key:1,class:"pa-2 pl-0"},{default:(0,o.k6)((()=>[(0,o.bF)(co.U,null,{default:(0,o.k6)((()=>[(0,o.bF)(He.w,{"aria-label":"Email",class:"mr-2"},{default:(0,o.k6)((()=>[(0,o.eW)("mdi-email")])),_:1}),(0,o.Lk)("a",{href:`mailto:${r.value.email}`},(0,g.v_)(r.value.email),9,ho)])),_:1})])),_:1})):(0,o.Q3)("",!0)])),_:1}),(0,o.bF)(Qe.G,{class:"mb-4"}),(0,o.bF)(y.D,{to:"/vendor/"+e.id,color:"primary",variant:"elevated"},{default:(0,o.k6)((()=>[(0,o.eW)(" View Products ")])),_:1},8,["to"])])),_:1})])),_:1})):((0,o.uX)(),(0,o.Wv)(io,{key:1,type:"warning",dismissible:""},{default:(0,o.k6)((()=>[(0,o.eW)(" Store not found. ")])),_:1}))}};const fo=(0,v.A)(vo,[["__scopeId","data-v-5d270a6d"]]);var mo=fo,go={__name:"PostDetailsDialog",props:{id:String},setup(e){const t=e,r=(0,o.EW)((()=>Pe().getById(t.id)));return(e,t)=>{const n=(0,o.g2)("router-link");return r.value?((0,o.uX)(),(0,o.Wv)(We.J,{key:0},{default:(0,o.k6)((()=>[(0,o.bF)(Le.r,null,{default:(0,o.k6)((()=>[(0,o.eW)((0,g.v_)(r.value.title),1)])),_:1}),(0,o.bF)(Ve.Z,null,{default:(0,o.k6)((()=>[(0,o.bF)(n,{to:"/vendor/"+r.value.vendorId,class:"text-secondary"},{default:(0,o.k6)((()=>[(0,o.eW)((0,g.v_)(r.value.vendorName),1)])),_:1},8,["to"])])),_:1}),(0,o.bF)(Be.O,null,{default:(0,o.k6)((()=>[(0,o.bF)(De.y,{src:r.value.image,"aspect-ratio":"1.8",cover:"",class:"mb-2"},null,8,["src"]),(0,o.eW)(" "+(0,g.v_)(r.value.text),1)])),_:1})])),_:1})):(0,o.Q3)("",!0)}}};const yo=go;var bo=yo,wo=r(8669),ko=r(5523);const Eo={class:"mb-4 mt-4"},_o={class:"mt-4"};var xo={__name:"ProductDetailsDialog",props:{id:String},setup(e){const t=e,r=(0,ve.z)(),n=(0,o.EW)((()=>r.getById(t.id)));return(e,t)=>{const r=(0,o.g2)("router-link");return n.value?((0,o.uX)(),(0,o.Wv)(We.J,{key:0},{default:(0,o.k6)((()=>[(0,o.bF)(Le.r,null,{default:(0,o.k6)((()=>[(0,o.eW)((0,g.v_)(n.value.title),1)])),_:1}),(0,o.bF)(Ve.Z,null,{default:(0,o.k6)((()=>[(0,o.bF)(r,{to:"/vendor/"+n.value.vendorId,class:"text-secondary"},{default:(0,o.k6)((()=>[(0,o.eW)((0,g.v_)(n.value.vendorName),1)])),_:1},8,["to"])])),_:1}),(0,o.bF)(Be.O,null,{default:(0,o.k6)((()=>[(0,o.bF)(De.y,{src:n.value.image,"aspect-ratio":"1.8",cover:"",class:"mb-2"},null,8,["src"]),(0,o.bF)(ko.x,{color:"green","text-color":"white",label:""},{default:(0,o.k6)((()=>[(0,o.eW)(" $"+(0,g.v_)(n.value.price),1)])),_:1}),(0,o.Lk)("div",Eo,(0,g.v_)(n.value.description),1),(0,o.Lk)("div",_o,[(0,o.bF)(wo.A,{product:n.value,variant:"outlined"},null,8,["product"])])])),_:1})])),_:1})):(0,o.Q3)("",!0)}}};const Co=xo;var Ao=Co,Io=r(9562);const So={key:0,class:"map-details-dialog"};var Mo={__name:"MapDetailsDialog",setup(e){const t=me(),r=(0,o.EW)((()=>t.selectedItem)),n=()=>t.setSelectedItem(null),a=(0,o.EW)((()=>{if(!r.value)return null;const{type:e}=r.value,t={vendor:mo,post:bo,product:Ao};return t[e]??null}));return(e,t)=>((0,o.uX)(),(0,o.Wv)(Io.VB,null,{default:(0,o.k6)((()=>[a.value?((0,o.uX)(),(0,o.CE)("div",So,[(0,o.bF)(y.D,{icon:"mdi-close",variant:"text",class:"map-details-dialog__close",onClick:n}),((0,o.uX)(),(0,o.Wv)((0,o.$y)(a.value),{id:r.value.id,onClose:n},null,40,["id"]))])):(0,o.Q3)("",!0)])),_:1}))}};const Oo=Mo;var Ro=Oo,To={name:"MapMain",components:{GoogleMap:qt,AdvancedMarker:Qt,MapDetailsDialog:Ro},setup(){const e=me(),t="AIzaSyAhVTBEJdfOVqaMbIjckY4lA2aSxTCcie8",r={lat:52.209427,lng:21.070871},n=(0,o.EW)((()=>Ie.A.map((e=>({id:e.id,position:e.location,title:e.name}))))),a=t=>{e.setSelectedItem({id:t.id,type:"vendor"})};return{apiKey:t,mapCenter:r,storeMarkers:n,showStoreDetails:a}}};const Fo=(0,v.A)(To,[["render",Et]]);var Po=Fo,Wo={name:"HomeView",components:{ListView:wt,MapView:Po},setup(){const e=(0,s.l)(),{smAndDown:t}=(0,i._F)(),r=r=>!t.value||e.currentHomeView===r;return{isViewVisible:r}}};const Lo=(0,v.A)(Wo,[["render",a]]);var Bo=Lo},3506:function(e,t,r){var o=r(3925),n=String,a=TypeError;e.exports=function(e){if(o(e))return e;throw new a("Can't set "+n(e)+" as a prototype")}},679:function(e,t,r){var o=r(1625),n=TypeError;e.exports=function(e,t){if(o(t,e))return e;throw new n("Incorrect invocation")}},7811:function(e){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},7394:function(e,t,r){var o=r(4576),n=r(6706),a=r(2195),s=o.ArrayBuffer,i=o.TypeError;e.exports=s&&n(s.prototype,"byteLength","get")||function(e){if("ArrayBuffer"!==a(e))throw new i("ArrayBuffer expected");return e.byteLength}},3238:function(e,t,r){var o=r(4576),n=r(7476),a=r(7394),s=o.ArrayBuffer,i=s&&s.prototype,l=i&&n(i.slice);e.exports=function(e){if(0!==a(e))return!1;if(!l)return!1;try{return l(e,0,0),!1}catch(t){return!0}}},5169:function(e,t,r){var o=r(3238),n=TypeError;e.exports=function(e){if(o(e))throw new n("ArrayBuffer is detached");return e}},5636:function(e,t,r){var o=r(4576),n=r(9504),a=r(6706),s=r(7696),i=r(5169),l=r(7394),u=r(4483),c=r(1548),d=o.structuredClone,p=o.ArrayBuffer,h=o.DataView,v=Math.min,f=p.prototype,m=h.prototype,g=n(f.slice),y=a(f,"resizable","get"),b=a(f,"maxByteLength","get"),w=n(m.getInt8),k=n(m.setInt8);e.exports=(c||u)&&function(e,t,r){var o,n=l(e),a=void 0===t?n:s(t),f=!y||!y(e);if(i(e),c&&(e=d(e,{transfer:[e]}),n===a&&(r||f)))return e;if(n>=a&&(!r||f))o=g(e,0,a);else{var m=r&&!f&&b?{maxByteLength:b(e)}:void 0;o=new p(a,m);for(var E=new h(e),_=new h(o),x=v(a,n),C=0;C<x;C++)k(_,C,w(E,C))}return c||u(e),o}},4644:function(e,t,r){var o,n,a,s=r(7811),i=r(3724),l=r(4576),u=r(4901),c=r(34),d=r(9297),p=r(6955),h=r(6823),v=r(6699),f=r(6840),m=r(2106),g=r(1625),y=r(2787),b=r(2967),w=r(8227),k=r(3392),E=r(1181),_=E.enforce,x=E.get,C=l.Int8Array,A=C&&C.prototype,I=l.Uint8ClampedArray,S=I&&I.prototype,M=C&&y(C),O=A&&y(A),R=Object.prototype,T=l.TypeError,F=w("toStringTag"),P=k("TYPED_ARRAY_TAG"),W="TypedArrayConstructor",L=s&&!!b&&"Opera"!==p(l.opera),B=!1,V={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},D={BigInt64Array:8,BigUint64Array:8},j=function(e){if(!c(e))return!1;var t=p(e);return"DataView"===t||d(V,t)||d(D,t)},N=function(e){var t=y(e);if(c(t)){var r=x(t);return r&&d(r,W)?r[W]:N(t)}},U=function(e){if(!c(e))return!1;var t=p(e);return d(V,t)||d(D,t)},X=function(e){if(U(e))return e;throw new T("Target is not a typed array")},K=function(e){if(u(e)&&(!b||g(M,e)))return e;throw new T(h(e)+" is not a typed array constructor")},q=function(e,t,r,o){if(i){if(r)for(var n in V){var a=l[n];if(a&&d(a.prototype,e))try{delete a.prototype[e]}catch(s){try{a.prototype[e]=t}catch(u){}}}O[e]&&!r||f(O,e,r?t:L&&A[e]||t,o)}},$=function(e,t,r){var o,n;if(i){if(b){if(r)for(o in V)if(n=l[o],n&&d(n,e))try{delete n[e]}catch(a){}if(M[e]&&!r)return;try{return f(M,e,r?t:L&&M[e]||t)}catch(a){}}for(o in V)n=l[o],!n||n[e]&&!r||f(n,e,t)}};for(o in V)n=l[o],a=n&&n.prototype,a?_(a)[W]=n:L=!1;for(o in D)n=l[o],a=n&&n.prototype,a&&(_(a)[W]=n);if((!L||!u(M)||M===Function.prototype)&&(M=function(){throw new T("Incorrect invocation")},L))for(o in V)l[o]&&b(l[o],M);if((!L||!O||O===R)&&(O=M.prototype,L))for(o in V)l[o]&&b(l[o].prototype,O);if(L&&y(S)!==O&&b(S,O),i&&!d(O,F))for(o in B=!0,m(O,F,{configurable:!0,get:function(){return c(this)?this[P]:void 0}}),V)l[o]&&v(l[o],P,o);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:L,TYPED_ARRAY_TAG:B&&P,aTypedArray:X,aTypedArrayConstructor:K,exportTypedArrayMethod:q,exportTypedArrayStaticMethod:$,getTypedArrayConstructor:N,isView:j,isTypedArray:U,TypedArray:M,TypedArrayPrototype:O}},5370:function(e,t,r){var o=r(6198);e.exports=function(e,t,r){var n=0,a=arguments.length>2?r:o(t),s=new e(a);while(a>n)s[n]=t[n++];return s}},7628:function(e,t,r){var o=r(6198);e.exports=function(e,t){for(var r=o(e),n=new t(r),a=0;a<r;a++)n[a]=e[r-a-1];return n}},9928:function(e,t,r){var o=r(6198),n=r(1291),a=RangeError;e.exports=function(e,t,r,s){var i=o(e),l=n(r),u=l<0?i+l:l;if(u>=i||u<0)throw new a("Incorrect index");for(var c=new t(i),d=0;d<i;d++)c[d]=d===u?s:e[d];return c}},2211:function(e,t,r){var o=r(9039);e.exports=!o((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},4659:function(e,t,r){var o=r(3724),n=r(4913),a=r(6980);e.exports=function(e,t,r){o?n.f(e,t,a(0,r)):e[t]=r}},4483:function(e,t,r){var o,n,a,s,i=r(4576),l=r(9429),u=r(1548),c=i.structuredClone,d=i.ArrayBuffer,p=i.MessageChannel,h=!1;if(u)h=function(e){c(e,{transfer:[e]})};else if(d)try{p||(o=l("worker_threads"),o&&(p=o.MessageChannel)),p&&(n=new p,a=new d(2),s=function(e){n.port1.postMessage(null,[e])},2===a.byteLength&&(s(a),0===a.byteLength&&(h=s)))}catch(v){}e.exports=h},5002:function(e){e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},6193:function(e,t,r){var o=r(4215);e.exports="NODE"===o},4215:function(e,t,r){var o=r(4576),n=r(2839),a=r(2195),s=function(e){return n.slice(0,e.length)===e};e.exports=function(){return s("Bun/")?"BUN":s("Cloudflare-Workers")?"CLOUDFLARE":s("Deno/")?"DENO":s("Node.js/")?"NODE":o.Bun&&"string"==typeof Bun.version?"BUN":o.Deno&&"object"==typeof Deno.version?"DENO":"process"===a(o.process)?"NODE":o.window&&o.document?"BROWSER":"REST"}()},8574:function(e,t,r){var o=r(9504),n=Error,a=o("".replace),s=function(e){return String(new n(e).stack)}("zxcasd"),i=/\n\s*at [^:]*:[^\n]*/,l=i.test(s);e.exports=function(e,t){if(l&&"string"==typeof e&&!n.prepareStackTrace)while(t--)e=a(e,i,"");return e}},6249:function(e,t,r){var o=r(9039),n=r(6980);e.exports=!o((function(){var e=new Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",n(1,7)),7!==e.stack)}))},6080:function(e,t,r){var o=r(7476),n=r(9306),a=r(616),s=o(o.bind);e.exports=function(e,t){return n(e),void 0===t?e:a?s(e,t):function(){return e.apply(t,arguments)}}},7476:function(e,t,r){var o=r(2195),n=r(9504);e.exports=function(e){if("Function"===o(e))return n(e)}},9429:function(e,t,r){var o=r(4576),n=r(6193);e.exports=function(e){if(n){try{return o.process.getBuiltinModule(e)}catch(t){}try{return Function('return require("'+e+'")')()}catch(t){}}}},851:function(e,t,r){var o=r(6955),n=r(5966),a=r(4117),s=r(6269),i=r(8227),l=i("iterator");e.exports=function(e){if(!a(e))return n(e,l)||n(e,"@@iterator")||s[o(e)]}},81:function(e,t,r){var o=r(9565),n=r(9306),a=r(8551),s=r(6823),i=r(851),l=TypeError;e.exports=function(e,t){var r=arguments.length<2?i(e):t;if(n(r))return a(o(r,e));throw new l(s(e)+" is not iterable")}},3167:function(e,t,r){var o=r(4901),n=r(34),a=r(2967);e.exports=function(e,t,r){var s,i;return a&&o(s=t.constructor)&&s!==r&&n(i=s.prototype)&&i!==r.prototype&&a(e,i),e}},4209:function(e,t,r){var o=r(8227),n=r(6269),a=o("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||s[a]===e)}},1108:function(e,t,r){var o=r(6955);e.exports=function(e){var t=o(e);return"BigInt64Array"===t||"BigUint64Array"===t}},3517:function(e,t,r){var o=r(9504),n=r(9039),a=r(4901),s=r(6955),i=r(7751),l=r(3706),u=function(){},c=i("Reflect","construct"),d=/^\s*(?:class|function)\b/,p=o(d.exec),h=!d.test(u),v=function(e){if(!a(e))return!1;try{return c(u,[],e),!0}catch(t){return!1}},f=function(e){if(!a(e))return!1;switch(s(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return h||!!p(d,l(e))}catch(t){return!0}};f.sham=!0,e.exports=!c||n((function(){var e;return v(v.call)||!v(Object)||!v((function(){e=!0}))||e}))?f:v},3925:function(e,t,r){var o=r(34);e.exports=function(e){return o(e)||null===e}},2652:function(e,t,r){var o=r(6080),n=r(9565),a=r(8551),s=r(6823),i=r(4209),l=r(6198),u=r(1625),c=r(81),d=r(851),p=r(9539),h=TypeError,v=function(e,t){this.stopped=e,this.result=t},f=v.prototype;e.exports=function(e,t,r){var m,g,y,b,w,k,E,_=r&&r.that,x=!(!r||!r.AS_ENTRIES),C=!(!r||!r.IS_RECORD),A=!(!r||!r.IS_ITERATOR),I=!(!r||!r.INTERRUPTED),S=o(t,_),M=function(e){return m&&p(m,"normal",e),new v(!0,e)},O=function(e){return x?(a(e),I?S(e[0],e[1],M):S(e[0],e[1])):I?S(e,M):S(e)};if(C)m=e.iterator;else if(A)m=e;else{if(g=d(e),!g)throw new h(s(e)+" is not iterable");if(i(g)){for(y=0,b=l(e);b>y;y++)if(w=O(e[y]),w&&u(f,w))return w;return new v(!1)}m=c(e,g)}k=C?e.next:m.next;while(!(E=n(k,m)).done){try{w=O(E.value)}catch(R){p(m,"throw",R)}if("object"==typeof w&&w&&u(f,w))return w}return new v(!1)}},6269:function(e){e.exports={}},2248:function(e,t,r){var o=r(9504),n=Map.prototype;e.exports={Map:Map,set:o(n.set),get:o(n.get),has:o(n.has),remove:o(n["delete"]),proto:n}},2603:function(e,t,r){var o=r(655);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:o(e)}},2787:function(e,t,r){var o=r(9297),n=r(4901),a=r(8981),s=r(6119),i=r(2211),l=s("IE_PROTO"),u=Object,c=u.prototype;e.exports=i?u.getPrototypeOf:function(e){var t=a(e);if(o(t,l))return t[l];var r=t.constructor;return n(r)&&t instanceof r?r.prototype:t instanceof u?c:null}},2967:function(e,t,r){var o=r(6706),n=r(34),a=r(7750),s=r(3506);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{e=o(Object.prototype,"__proto__","set"),e(r,[]),t=r instanceof Array}catch(i){}return function(r,o){return a(r),s(o),n(r)?(t?e(r,o):r.__proto__=o,r):r}}():void 0)},7979:function(e,t,r){var o=r(8551);e.exports=function(){var e=o(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},1034:function(e,t,r){var o=r(9565),n=r(9297),a=r(1625),s=r(7979),i=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in i||n(e,"flags")||!a(i,e)?t:o(s,e)}},1548:function(e,t,r){var o=r(4576),n=r(9039),a=r(9519),s=r(4215),i=o.structuredClone;e.exports=!!i&&!n((function(){if("DENO"===s&&a>92||"NODE"===s&&a>94||"BROWSER"===s&&a>97)return!1;var e=new ArrayBuffer(8),t=i(e,{transfer:[e]});return 0!==e.byteLength||8!==t.byteLength}))},5854:function(e,t,r){var o=r(2777),n=TypeError;e.exports=function(e){var t=o(e,"number");if("number"==typeof t)throw new n("Can't convert number to bigint");return BigInt(t)}},7696:function(e,t,r){var o=r(1291),n=r(8014),a=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=o(e),r=n(t);if(t!==r)throw new a("Wrong length or index");return r}},6573:function(e,t,r){var o=r(3724),n=r(2106),a=r(3238),s=ArrayBuffer.prototype;o&&!("detached"in s)&&n(s,"detached",{configurable:!0,get:function(){return a(this)}})},7936:function(e,t,r){var o=r(6518),n=r(5636);n&&o({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return n(this,arguments.length?arguments[0]:void 0,!1)}})},8100:function(e,t,r){var o=r(6518),n=r(5636);n&&o({target:"ArrayBuffer",proto:!0},{transfer:function(){return n(this,arguments.length?arguments[0]:void 0,!0)}})},9479:function(e,t,r){var o=r(4576),n=r(3724),a=r(2106),s=r(7979),i=r(9039),l=o.RegExp,u=l.prototype,c=n&&i((function(){var e=!0;try{l(".","d")}catch(c){e=!1}var t={},r="",o=e?"dgimsy":"gimsy",n=function(e,o){Object.defineProperty(t,e,{get:function(){return r+=o,!0}})},a={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var s in e&&(a.hasIndices="d"),a)n(s,a[s]);var i=Object.getOwnPropertyDescriptor(u,"flags").get.call(t);return i!==o||r!==o}));c&&a(u,"flags",{configurable:!0,get:s})},7467:function(e,t,r){var o=r(7628),n=r(4644),a=n.aTypedArray,s=n.exportTypedArrayMethod,i=n.getTypedArrayConstructor;s("toReversed",(function(){return o(a(this),i(this))}))},4732:function(e,t,r){var o=r(4644),n=r(9504),a=r(9306),s=r(5370),i=o.aTypedArray,l=o.getTypedArrayConstructor,u=o.exportTypedArrayMethod,c=n(o.TypedArrayPrototype.sort);u("toSorted",(function(e){void 0!==e&&a(e);var t=i(this),r=s(l(t),t);return c(r,e)}))},9577:function(e,t,r){var o=r(9928),n=r(4644),a=r(1108),s=r(1291),i=r(5854),l=n.aTypedArray,u=n.getTypedArrayConstructor,c=n.exportTypedArrayMethod,d=!!function(){try{new Int8Array(1)["with"](2,{valueOf:function(){throw 8}})}catch(e){return 8===e}}();c("with",{with:function(e,t){var r=l(this),n=s(e),c=a(r)?i(t):+t;return o(r,u(r),n,c)}}["with"],!d)},4979:function(e,t,r){var o=r(6518),n=r(4576),a=r(7751),s=r(6980),i=r(4913).f,l=r(9297),u=r(679),c=r(3167),d=r(2603),p=r(5002),h=r(8574),v=r(3724),f=r(6395),m="DOMException",g=a("Error"),y=a(m),b=function(){u(this,w);var e=arguments.length,t=d(e<1?void 0:arguments[0]),r=d(e<2?void 0:arguments[1],"Error"),o=new y(t,r),n=new g(t);return n.name=m,i(o,"stack",s(1,h(n.stack,1))),c(o,this,b),o},w=b.prototype=y.prototype,k="stack"in new g(m),E="stack"in new y(1,2),_=y&&v&&Object.getOwnPropertyDescriptor(n,m),x=!!_&&!(_.writable&&_.configurable),C=k&&!x&&!E;o({global:!0,constructor:!0,forced:f||C},{DOMException:C?b:y});var A=a(m),I=A.prototype;if(I.constructor!==A)for(var S in f||i(I,"constructor",s(1,A)),p)if(l(p,S)){var M=p[S],O=M.s;l(A,O)||i(A,O,s(6,M.c))}},1678:function(e,t,r){var o=r(6395),n=r(6518),a=r(4576),s=r(7751),i=r(9504),l=r(9039),u=r(3392),c=r(4901),d=r(3517),p=r(4117),h=r(34),v=r(757),f=r(2652),m=r(8551),g=r(6955),y=r(9297),b=r(4659),w=r(6699),k=r(6198),E=r(2812),_=r(1034),x=r(2248),C=r(4402),A=r(8469),I=r(4483),S=r(6249),M=r(1548),O=a.Object,R=a.Array,T=a.Date,F=a.Error,P=a.TypeError,W=a.PerformanceMark,L=s("DOMException"),B=x.Map,V=x.has,D=x.get,j=x.set,N=C.Set,U=C.add,X=C.has,K=s("Object","keys"),q=i([].push),$=i((!0).valueOf),z=i(1..valueOf),G=i("".valueOf),Z=i(T.prototype.getTime),Q=u("structuredClone"),H="DataCloneError",Y="Transferring",J=function(e){return!l((function(){var t=new a.Set([7]),r=e(t),o=e(O(7));return r===t||!r.has(7)||!h(o)||7!==+o}))&&e},ee=function(e,t){return!l((function(){var r=new t,o=e({a:r,b:r});return!(o&&o.a===o.b&&o.a instanceof t&&o.a.stack===r.stack)}))},te=function(e){return!l((function(){var t=e(new a.AggregateError([1],Q,{cause:3}));return"AggregateError"!==t.name||1!==t.errors[0]||t.message!==Q||3!==t.cause}))},re=a.structuredClone,oe=o||!ee(re,F)||!ee(re,L)||!te(re),ne=!re&&J((function(e){return new W(Q,{detail:e}).detail})),ae=J(re)||ne,se=function(e){throw new L("Uncloneable type: "+e,H)},ie=function(e,t){throw new L((t||"Cloning")+" of "+e+" cannot be properly polyfilled in this engine",H)},le=function(e,t){return ae||ie(t),ae(e)},ue=function(){var e;try{e=new a.DataTransfer}catch(t){try{e=new a.ClipboardEvent("").clipboardData}catch(r){}}return e&&e.items&&e.files?e:null},ce=function(e,t,r){if(V(t,e))return D(t,e);var o,n,s,i,l,u,d=r||g(e);if("SharedArrayBuffer"===d)o=ae?ae(e):e;else{var p=a.DataView;p||c(e.slice)||ie("ArrayBuffer");try{if(c(e.slice)&&!e.resizable)o=e.slice(0);else{n=e.byteLength,s="maxByteLength"in e?{maxByteLength:e.maxByteLength}:void 0,o=new ArrayBuffer(n,s),i=new p(e),l=new p(o);for(u=0;u<n;u++)l.setUint8(u,i.getUint8(u))}}catch(h){throw new L("ArrayBuffer is detached",H)}}return j(t,e,o),o},de=function(e,t,r,o,n){var s=a[t];return h(s)||ie(t),new s(ce(e.buffer,n),r,o)},pe=function(e,t){if(v(e)&&se("Symbol"),!h(e))return e;if(t){if(V(t,e))return D(t,e)}else t=new B;var r,o,n,i,l,u,d,p,f=g(e);switch(f){case"Array":n=R(k(e));break;case"Object":n={};break;case"Map":n=new B;break;case"Set":n=new N;break;case"RegExp":n=new RegExp(e.source,_(e));break;case"Error":switch(o=e.name,o){case"AggregateError":n=new(s(o))([]);break;case"EvalError":case"RangeError":case"ReferenceError":case"SuppressedError":case"SyntaxError":case"TypeError":case"URIError":n=new(s(o));break;case"CompileError":case"LinkError":case"RuntimeError":n=new(s("WebAssembly",o));break;default:n=new F}break;case"DOMException":n=new L(e.message,e.name);break;case"ArrayBuffer":case"SharedArrayBuffer":n=ce(e,t,f);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":u="DataView"===f?e.byteLength:e.length,n=de(e,f,e.byteOffset,u,t);break;case"DOMQuad":try{n=new DOMQuad(pe(e.p1,t),pe(e.p2,t),pe(e.p3,t),pe(e.p4,t))}catch(m){n=le(e,f)}break;case"File":if(ae)try{n=ae(e),g(n)!==f&&(n=void 0)}catch(m){}if(!n)try{n=new File([e],e.name,e)}catch(m){}n||ie(f);break;case"FileList":if(i=ue(),i){for(l=0,u=k(e);l<u;l++)i.items.add(pe(e[l],t));n=i.files}else n=le(e,f);break;case"ImageData":try{n=new ImageData(pe(e.data,t),e.width,e.height,{colorSpace:e.colorSpace})}catch(m){n=le(e,f)}break;default:if(ae)n=ae(e);else switch(f){case"BigInt":n=O(e.valueOf());break;case"Boolean":n=O($(e));break;case"Number":n=O(z(e));break;case"String":n=O(G(e));break;case"Date":n=new T(Z(e));break;case"Blob":try{n=e.slice(0,e.size,e.type)}catch(m){ie(f)}break;case"DOMPoint":case"DOMPointReadOnly":r=a[f];try{n=r.fromPoint?r.fromPoint(e):new r(e.x,e.y,e.z,e.w)}catch(m){ie(f)}break;case"DOMRect":case"DOMRectReadOnly":r=a[f];try{n=r.fromRect?r.fromRect(e):new r(e.x,e.y,e.width,e.height)}catch(m){ie(f)}break;case"DOMMatrix":case"DOMMatrixReadOnly":r=a[f];try{n=r.fromMatrix?r.fromMatrix(e):new r(e)}catch(m){ie(f)}break;case"AudioData":case"VideoFrame":c(e.clone)||ie(f);try{n=e.clone()}catch(m){se(f)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":ie(f);default:se(f)}}switch(j(t,e,n),f){case"Array":case"Object":for(d=K(e),l=0,u=k(d);l<u;l++)p=d[l],b(n,p,pe(e[p],t));break;case"Map":e.forEach((function(e,r){j(n,pe(r,t),pe(e,t))}));break;case"Set":e.forEach((function(e){U(n,pe(e,t))}));break;case"Error":w(n,"message",pe(e.message,t)),y(e,"cause")&&w(n,"cause",pe(e.cause,t)),"AggregateError"===o?n.errors=pe(e.errors,t):"SuppressedError"===o&&(n.error=pe(e.error,t),n.suppressed=pe(e.suppressed,t));case"DOMException":S&&w(n,"stack",pe(e.stack,t))}return n},he=function(e,t){if(!h(e))throw new P("Transfer option cannot be converted to a sequence");var r=[];f(e,(function(e){q(r,m(e))}));var o,n,s,i,l,u,p=0,v=k(r),y=new N;while(p<v){if(o=r[p++],n=g(o),"ArrayBuffer"===n?X(y,o):V(t,o))throw new L("Duplicate transferable",H);if("ArrayBuffer"!==n){if(M)i=re(o,{transfer:[o]});else switch(n){case"ImageBitmap":s=a.OffscreenCanvas,d(s)||ie(n,Y);try{l=new s(o.width,o.height),u=l.getContext("bitmaprenderer"),u.transferFromImageBitmap(o),i=l.transferToImageBitmap()}catch(b){}break;case"AudioData":case"VideoFrame":c(o.clone)&&c(o.close)||ie(n,Y);try{i=o.clone(),o.close()}catch(b){}break;case"MediaSourceHandle":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":ie(n,Y)}if(void 0===i)throw new L("This object cannot be transferred: "+n,H);j(t,o,i)}else U(y,o)}return y},ve=function(e){A(e,(function(e){M?ae(e,{transfer:[e]}):c(e.transfer)?e.transfer():I?I(e):ie("ArrayBuffer",Y)}))};n({global:!0,enumerable:!0,sham:!M,forced:oe},{structuredClone:function(e){var t,r,o=E(arguments.length,1)>1&&!p(arguments[1])?m(arguments[1]):void 0,n=o?o.transfer:void 0;void 0!==n&&(t=new B,r=he(n,t));var a=pe(e,t);return r&&ve(r),a}})}}]);
//# sourceMappingURL=527.b183d3dc.js.map