{"version":3,"file":"js/812.938a5720.js","mappings":"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","sources":["webpack://fairr-web-client/./src/views/OrdersView.vue","webpack://fairr-web-client/./src/views/OrdersView.vue?e537"],"sourcesContent":["<template>\n  <v-container>\n    <h1>Orders History</h1>\n\n    <v-data-table\n      class=\"orders-table elevation-1\"\n      :headers=\"headers\"\n      :items=\"orders\"\n      :loading=\"loading\"\n      :items-per-page=\"-1\"\n      :group-by=\"[{ key: 'orderDate' }]\"\n      item-value=\"uuid\"\n      hide-default-footer\n      disable-sort\n    >\n      <template #group-header=\"{ item, columns, toggleGroup, isGroupOpen }\">\n        <template :ref=\"() => { if (!isGroupOpen(item) && !loaded) toggleGroup(item) }\"></template>\n        <tr class=\"v-row-group__header\">\n          <td :colspan=\"columns.length - 1\">\n            <v-layout>\n              <v-icon class=\"pr-2\">mdi-chevron-right</v-icon>{{ formatDate(item.value) }}\n            </v-layout>\n          </td>\n        </tr>\n      </template>\n\n      <template #item.status=\"{ item }\">\n        <v-chip :color=\"getChipColor(item.status)\" dark>\n          {{ item.status }}\n        </v-chip>\n      </template>\n\n      <template #item.orderItems=\"{ item }\">\n        <ul>\n          <li v-for=\"(orderItem, idx) in item.orderItems\" :key=\"idx\">\n            {{ orderItem.productName }}\n          </li>\n        </ul>\n      </template>\n    </v-data-table>\n  </v-container>\n</template>\n\n<script>\nimport { computed, onMounted, ref } from \"vue\";\nimport { useOrdersStore } from \"@/stores/ordersStore\";\n\nexport default {\n  name: \"OrderHistory\",\n  setup() {\n    const loaded = ref(false);\n\n    const headers = [\n      { title: \"Store\", value: \"storeName\", width: 120 },\n      { title: \"Status\", value: \"storeOrderStatus\", width: 120, },\n      { title: \"Items\", value: \"orderItems\" },\n    ];\n\n    const ordersStore = useOrdersStore();\n\n    const viewOrder = (order) => {\n      alert(`Viewing order ${order.id}`);\n    };\n\n    ordersStore.fetchOrders();\n\n    const orders = computed(() => ordersStore.orders || []);\n\n    const loading = computed(() => ordersStore.loading);\n\n    const formatDate = (date) => {\n      return new Date(date).toLocaleDateString();\n    };\n\n    const getChipColor = (status) => {\n      switch (status) {\n        case \"Completed\":\n          return \"green\";\n        case \"Pending\":\n          return \"orange\";\n        case \"Cancelled\":\n          return \"red\";\n        default:\n          return \"grey\";\n      }\n    };\n\n    onMounted(() => {\n      loaded.value = true;\n    });\n\n    return {\n      headers,\n      orders,\n      loading,\n      formatDate,\n      viewOrder,\n      getChipColor,\n    };\n  },\n};\n</script>\n\n<style scoped>\nh1 {\n  text-align: center;\n  margin-bottom: 20px;\n}\n</style>\n\n<style lang=\"scss\">\n.orders-table {\n  .v-data-table-header__content {\n    font-weight: bold;\n  }\n\n  .v-data-table__tr td:first-child,\n  thead tr th:first-child {\n    display: none;\n  }\n\n  .v-row-group__header {\n    background: #f5f5f5;\n    font-weight: bold;\n  }\n}\n</style>\n","import { render } from \"./OrdersView.vue?vue&type=template&id=282c86ef&scoped=true\"\nimport script from \"./OrdersView.vue?vue&type=script&lang=js\"\nexport * from \"./OrdersView.vue?vue&type=script&lang=js\"\n\nimport \"./OrdersView.vue?vue&type=style&index=0&id=282c86ef&scoped=true&lang=css\"\nimport \"./OrdersView.vue?vue&type=style&index=1&id=282c86ef&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-282c86ef\"]])\n\nexport default __exports__"],"names":["_createElementVNode","class","_createBlock","_component_v_container","default","_withCtx","_hoisted_1","_createVNode","_component_v_data_table","headers","$setup","items","orders","loading","key","item","columns","toggleGroup","isGroupOpen","ref","_ctx","loaded","_hoisted_2","colspan","length","_component_v_layout","_component_v_icon","_createTextVNode","_","_toDisplayString","formatDate","value","_hoisted_3","_component_v_chip","color","getChipColor","status","dark","_createElementBlock","_Fragment","_renderList","orderItems","orderItem","idx","productName","name","setup","title","width","ordersStore","useOrdersStore","viewOrder","order","alert","id","fetchOrders","computed","date","Date","toLocaleDateString","onMounted","__exports__","render"],"sourceRoot":""}